<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tech Forever</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.whatslife.cn/"/>
  <updated>2018-05-16T08:53:44.783Z</updated>
  <id>http://blog.whatslife.cn/</id>
  
  <author>
    <name>Tech Forever</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>init.d + rc.d VS systemd UbuntuæœåŠ¡è¿›ç¨‹ç®¡ç†ä¸å¼€æœºè‡ªå¯åŠ¨</title>
    <link href="http://blog.whatslife.cn/posts/initd-rcd-systemd/"/>
    <id>http://blog.whatslife.cn/posts/initd-rcd-systemd/</id>
    <published>2018-04-05T10:20:26.000Z</published>
    <updated>2018-05-16T08:53:44.783Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://blogqn.qixincha.com/Systemctl_tw.png" alt=""></p><p>ä½œä¸ºä¸€åUbuntuæœåŠ¡å™¨æ·±åº¦ç”¨æˆ·ï¼Œåœ¨Ubuntu 16.04ç‰ˆæœ¬ä¹‹å‰ä¸€ç›´ä½¿ç”¨<code>init.d</code> + <code>rc.d</code>å¥—è£…æ¥ç®¡ç†å„ç§æœåŠ¡ã€‚</p><p>å¦‚ï¼šNginx, ssh, docker, supervisordç­‰ã€‚</p><p>Ubuntu 16.04 æ–°å¢äº†ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ç®¡ç†å·¥å…· <code>systemd</code>ã€‚æˆ‘å°†å…¶ç†è§£ä¸ºä¸€ä¸ªwrapperç¨‹åºï¼Œå°è£…äº†åº•å±‚æŠ€æœ¯ç»†èŠ‚ï¼Œä½¿å¾—äº¤äº’æ›´äººæ€§åŒ–ã€‚</p><p>ä¸¤ç§å‘½ä»¤éƒ½æ˜¯æ— éœ€å®‰è£…ä»»ä½•åŒ…å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¯æ›´æ¨èä½¿ç”¨æ–°çš„å‘½ä»¤ï¼Œä»¥è·å¾—æ›´ä½³çš„ä½“éªŒã€‚</p><p>ç³»ç»Ÿè‡ªå¸¦çš„å„ç§æœåŠ¡ï¼Œä¸dpkgåŒ…çš„é»˜è®¤é…ç½®çš„æœåŠ¡è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œéƒ½å·²è¿ç§»åˆ°systemdã€‚è¶³è§å®˜æ–¹å¯¹å…¶æ¨èç¨‹åº¦ã€‚</p><p>é‚£ä¹ˆï¼Œ<code>systemd</code>å’Œ<code>init.d</code> + <code>rc.d</code>åˆ†åˆ«æ˜¯å¦‚ä½•ç®¡ç†æœåŠ¡çš„å‘¢ï¼Ÿsystemdçš„ä¼˜åŠ¿åˆåœ¨å“ªé‡Œï¼Ÿ</p><a id="more"></a><p>å’‹ä»¬æŒ‰å…ˆåé¡ºåºä»‹ç»ï¼Œå…ˆè®²<code>init.d</code>å’Œ<code>rc.d</code>ï¼Œå†æ¼”è¿›åˆ°<code>systemd</code>ï¼Œ ä¾¿å¯¹ä¸Šé¢çš„é—®é¢˜æœ‰å®¢è§‚çš„è®¤è¯†äº†ã€‚</p><p>å‰©ä¸‹çš„å°±è‡ªå·±ç‹¬ç«‹æ€è€ƒä¸Googleå§ğŸ¤ª</p><h2 id="init-d-Ubuntu-14-04åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­æœåŠ¡è¿›ç¨‹ç®¡ç†çš„æ­£ç¡®å§¿åŠ¿"><a href="#init-d-Ubuntu-14-04åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­æœåŠ¡è¿›ç¨‹ç®¡ç†çš„æ­£ç¡®å§¿åŠ¿" class="headerlink" title="init.d - Ubuntu 14.04åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­æœåŠ¡è¿›ç¨‹ç®¡ç†çš„æ­£ç¡®å§¿åŠ¿"></a>init.d - Ubuntu 14.04åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­æœåŠ¡è¿›ç¨‹ç®¡ç†çš„æ­£ç¡®å§¿åŠ¿</h2><p><code>service nginx reload</code> æƒ³å¿…å¤§å¤šæ•°äººéƒ½ä½¿ç”¨è¿‡ç±»ä¼¼æŒ‡ä»¤ã€‚ä»–å°±æ˜¯ç”¨äºæ‰§è¡Œå„ç§<code>init.d</code>è„šæœ¬çš„äº¤äº’ç¨‹åºã€‚</p><p>åœ¨è®²init.dä¹‹å‰ï¼Œå…ˆè®²ä¸€ä¸‹<code>/sbin/init</code>è¿™ä¸ªç¨‹åºã€‚è¯¥ç¨‹åºæ˜¯Linuxå†…æ ¸åŠ è½½åå¯åŠ¨çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œpidæ˜¯1ã€‚åç»­çš„å¯åŠ¨å·¥ä½œï¼Œéƒ½æ˜¯ç”±<code>/sbin/init</code>è„šæœ¬ç›´æ¥æˆ–é—´æ¥è°ƒç”¨å…¶ä»–ç¨‹åºå®Œæˆçš„ã€‚</p><ul><li><p>init.dä¸­çš„å„ç§å®ˆæŠ¤è¿›ç¨‹çš„ç®¡ç†è„šæœ¬ï¼Œä¼šåœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹è¢«ä½¿ç”¨ï¼š</p><ol><li><p>å½“ç”¨æˆ·ä½¿ç”¨<code>service</code>æŒ‡ä»¤æ—¶ã€‚<code>service</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰€æ”¯æŒæœåŠ¡ï¼Œè¿™äº›éƒ½åœ¨<code>/etc/init.d/</code>ä¸­ä»¥ä¸€ä¸ªshellè„šæœ¬çš„å½¢æ€å­˜åœ¨ã€‚è€Œç¬¬äºŒä¸ªå‚æ•°æŒ‡ä»¤ï¼Œ åˆ™æ˜¯å¯¹åº”è„šæœ¬ä¸­çš„ä¸€ä¸ªå‡½æ•°ã€‚åªæœ‰æŒ‡å®šæœåŠ¡çš„init.dè„šæœ¬ä¸­ï¼Œå­˜åœ¨å¯¹åº”çš„å‡½æ•°æ—¶ï¼Œ<code>service</code>æŒ‡ä»¤æ‰èƒ½æ‰§è¡ŒæˆåŠŸã€‚ä¸Šå›¾å°±å¾ˆå®¹æ˜“æ˜ç™½äº†ï¼š<br><img src="http://blogqn.qixincha.com/48039570-955D-4C1D-BA92-5B07E39D1787.png" alt=""><br>nginx ä¸ ssh éƒ½åœ¨<code>/etc/init.d</code>ç›®å½•ä¸‹æœ‰å¯¹åº”çš„è„šæœ¬ï¼Œæ‰€ä»¥éƒ½èƒ½ä½œä¸º<code>service</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°è°ƒç”¨ã€‚ä½†æ˜¯configtestå‡½æ•°ä»…åœ¨<code>/etc/init.d/nginx</code>ä¸­æœ‰å®šä¹‰ï¼Œæ‰€ä»¥ä»…<code>service nginx configtest</code>èƒ½è°ƒç”¨æˆåŠŸã€‚è€Œ<code>service ssh configtest</code>åˆ™è°ƒç”¨å¤±è´¥ã€‚<br>è€Œ<code>httpd</code>å› åœ¨<code>/etc/init.d</code>ä¸‹æ²¡æœ‰å¯¹åº”çš„è„šæœ¬ï¼Œä¾¿æ— æ³•ä½¿ç”¨<code>service</code>å¯¹å…¶è¿›è¡Œç®¡ç†ã€‚</p></li><li><p>å¼€æœºå¯åŠ¨æ—¶ä½œä¸ºè¢«å¼€æœºæ‰§è¡Œç­‰çº§å®šä¹‰ç¨‹åºè°ƒç”¨ï¼Œæ—¢åé¢è®²åˆ°çš„rc.dï¼Œå…¶å·¥ä½œæ˜¯ä¾èµ–<code>/etc/init.d</code>è„šæœ¬çš„</p></li></ol></li><li><p>Tips:</p><ul><li>å½“ä½¿ç”¨<code>service</code>èƒ½å¯åŠ¨æœåŠ¡ï¼Œä½†åœæ­¢æˆ–æŸ¥çœ‹statusæ—¶æç¤ºæ‰¾ä¸åˆ°æœåŠ¡ã€‚å¤šåŠæ˜¯æœåŠ¡é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹äº†pidæ–‡ä»¶è·¯å¾„ã€‚ è€Œ<code>/etc/init.d/script</code>è„šæœ¬ä¾èµ–pidæ¥ç®¡ç†æœåŠ¡è¿›ç¨‹çŠ¶æ€ï¼Œè€Œä¸”è„šæœ¬ä¸­çš„pidè·¯å¾„æ˜¯å†™æ­»çš„ã€‚ä¸€æ—¦<code>/etc/init.d/script</code>ä¸­ä½¿ç”¨çš„pidè·¯å¾„ä¸å®é™…pidæ–‡ä»¶è·¯å¾„ä¸ç¬¦æ—¶ï¼Œå°±æ— æ³•åšåç»­çš„æ‰€æœ‰ç®¡ç†å·¥ä½œäº†ã€‚ä¸€æ—¦å¯åŠ¨ï¼Œ å°±è„±ç¦»serviceæ§åˆ¶äº†ã€‚</li><li><code>/etc/init.d/</code>ä¸‹çš„è„šæœ¬éœ€è¦æœ‰å¯æ‰§è¡Œæƒé™ <code>chmod +x</code>ã€‚</li><li>å¤§å¤š<code>init.d</code>è„šæœ¬ä¼šä¾èµ–ä¸<code>/etc/default/</code>ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ï¼Œé‡åˆ°é—®é¢˜æ—¶ï¼Œä¸å¦¨ä¹Ÿæ’æŸ¥ä¸€ä¸‹è¿™ä¸ªç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ã€‚</li></ul></li></ul><h2 id="rc-d-å¼€æœºè‡ªå¯åŠ¨ä¸å…³æœºè‡ªåœæ­¢æ³¨å†Œä¿¡æ¯ç®¡ç†"><a href="#rc-d-å¼€æœºè‡ªå¯åŠ¨ä¸å…³æœºè‡ªåœæ­¢æ³¨å†Œä¿¡æ¯ç®¡ç†" class="headerlink" title="rc.d - å¼€æœºè‡ªå¯åŠ¨ä¸å…³æœºè‡ªåœæ­¢æ³¨å†Œä¿¡æ¯ç®¡ç†"></a>rc.d - å¼€æœºè‡ªå¯åŠ¨ä¸å…³æœºè‡ªåœæ­¢æ³¨å†Œä¿¡æ¯ç®¡ç†</h2><p>æœ€å¼€å§‹å­¦Linuxæ—¶ï¼ˆå¤§æ¦‚æ˜¯2010å¹´ï¼‰ï¼Œæƒ³è¦å®ç°ä¸€äº›æœåŠ¡çš„å¼€æœºè‡ªå¯åŠ¨ã€‚åœ¨ç™¾åº¦æŸ¥åˆ°å„ç§æ–‡ç« ï¼Œå¤§éƒ¨åˆ†æ˜¯æ•™æˆ‘å¦‚ä½•åœ¨<code>/etc/bash.rc</code> ç”šè‡³ <code>~/.bashrc</code> ä¸­æ·»åŠ æ‰§è¡Œä»£ç æ¥å¯åŠ¨è¿™ä¸ªæœåŠ¡ã€‚è¿™äº›æ–¹æ³•ä¸ä»…ä¸‘é™‹ï¼Œè€Œä¸”è®©äººéš¾ä»¥ç†è§£ã€‚</p><p>ç†è®ºä¸Šï¼ŒLinuxç³»ç»Ÿå†å¯åŠ¨æ—¶ï¼Œä¼šæŒ‰é¡ºåºåŠ è½½è¯¸å¤šè„šæœ¬ï¼Œ ä½ æŠŠå¯åŠ¨ä»£ç æ’åˆ°ä»»ä½•ä¸€ä¸ªå¼€æœºä¼šè¢«åŠ è½½çš„è„šæœ¬ä¸­ï¼Œéƒ½å¯ä»¥å®ç°å¼€æœºè‡ªå¯åŠ¨ã€‚ä½†æ˜¯åªéœ€ç¨èŠ±äº›å¿ƒæ€ï¼Œçœ‹ä¸€ä¸‹sshdçš„å¯åŠ¨æ–¹å¼ï¼Œæˆ–ç”¨apt-getè£…ä¸€ä¸ªnginx, çœ‹çœ‹nginxçš„å¯åŠ¨æ–¹å¼ï¼Œä¾¿ä¼šå‘ç°è¿™æ ·åšæ˜¯ä¸å¯¹çš„ã€‚</p><p>å¦‚æœä½ å°±æ˜¯å¾€<code>bash.rc</code>é‡Œé¢åŠ å¯åŠ¨æŒ‡ä»¤æ¥å®ç°å¼€æœºå¯åŠ¨çš„ï¼Œé‚£ä½ å¤šåŠä¹Ÿä¸çŸ¥é“å¦‚ä½•å–æ¶ˆnginxç­‰æœåŠ¡çš„å¼€æœºè‡ªå¯åŠ¨ã€‚</p><p>å³ä½¿åœ¨æœ€æ–°çš„Ubuntuæ“ä½œç³»ç»Ÿä¸­ï¼Œ <code>rc.d</code>ä¾ç„¶æ˜¯ç³»ç»Ÿå¯åŠ¨çš„å¿…è¦å·¥å…·ã€‚å³ä½¿ä½¿ç”¨systemdçš„enable, disableæ¥ç®¡ç†æœåŠ¡çš„å¼€æœºè‡ªå¯åŠ¨ï¼Œä»–èƒŒåä¹Ÿä¼šå’Œsystemdæœ‰ä¸€å®šçš„è”åŠ¨ã€‚</p><p>åœ¨è¾ƒæ—©çš„Ubuntuç‰ˆæœ¬ä¸­ï¼Œæ·»åŠ å¼€æœºè‡ªå¯åŠ¨çš„æœ€ä½³å®è·µå°±æ˜¯ä½¿ç”¨rc.då·¥å…·ã€‚ä¸‹é¢ç®€å•ä»‹ç»å‡ ä¸ªå¸¸ç”¨æŒ‡ä»¤ï¼š</p><ol><li>æ·»åŠ supervisordçš„å¼€æœºå¯åŠ¨: <code>update-rc.d supervisord defaults</code></li><li>æŸ¥çœ‹supervisordåœ¨rc.dä¸­çš„æ³¨å†Œæƒ…å†µï¼š <code>ls -l /etc/rc*.d | grep supervisord</code></li><li>ä»rc.dä¸­ç§»é™¤supervosrdçš„æ³¨å†Œï¼š <code>update-rc.d -f supervisord remove</code></li></ol><p><strong>ä»¥ä¸ŠæŒ‡ä»¤éƒ½ä¾èµ–ç›¸åº”çš„init.dè„šæœ¬</strong></p><p>ä»¥ä¸ŠæŒ‡ä»¤å¯ç”¨äºç®¡ç†<code>rc.d</code>ä¸­æ³¨å†Œçš„æœåŠ¡ï¼Œé‚£ä¹ˆï¼Œrc.dåˆæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿä¸ºä½•æ³¨å†Œåœ¨å…¶ä¸­çš„æœåŠ¡å°±ä¼šå¼€æœºè‡ªå¯åŠ¨å‘¢ï¼Ÿ</p><ul><li>é¦–å…ˆï¼Œ çœ‹çœ‹<code>/etc</code>ç›®å½•ä¸‹çš„<code>rc*.d</code>ä»¬<br><img src="http://blogqn.qixincha.com/61290685-C7D9-4A45-8C5A-EE05C9B367C0.png" alt=""><br>æˆ‘ä»¬çœ‹åˆ°æœ‰8ä¸ª<code>rc*.d</code>ç›®å½• + 1ä¸ª<code>rc.local</code>æ–‡ä»¶ã€‚<br>å…ˆè¯´ä¸€ä¸‹8ä¸ªç›®å½•ï¼Œ å…¶å¯¹åº”ç€Ubuntuçš„8ä¸ªrunlevelã€‚ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œæ”¯æŒçš„å…è®¸æ¨¡å¼ç•¥æœ‰ä¸åŒã€‚ ä½†éƒ½ä¼šæä¾›è‹¥å¹²<code>rc*.d</code>ç›®å½•ï¼Œç”¨äºç®¡ç†ä¸åŒç³»ç»Ÿè¿è¡Œæ¨¡å¼ä¸‹éœ€è¦å¯åŠ¨/åœæ­¢çš„æœåŠ¡ã€‚ä¸åŒæ“ä½œç³»ç»Ÿçš„runlevelå¯è§å‚è€ƒèµ„æ–™ä¸­çš„<code>Linux Runlevel</code>é“¾æ¥ã€‚</li><li>Ubuntuçš„runlevelï¼š<ul><li>0: å…³æœºæ¨¡å¼ï¼Œé‡Œé¢ä¸€èˆ¬éƒ½æ˜¯åœæ­¢æœåŠ¡çš„è„šæœ¬ï¼ˆKæ‰“å¤´ï¼‰ã€‚æˆ‘ç†è§£æ˜¯æ‰§è¡Œå…³æœºæŒ‡ä»¤æ—¶ï¼Œç³»ç»Ÿä¼šå…ˆè¿›å…¥è¿™ä¸ªrunlevel, ç„¶ååœæ‰è¿™é‡Œå®šä¹‰çš„æ‰€æœ‰æœåŠ¡ï¼Œå†æœ€ç»ˆå®ç°å®‰å…¨å…³æœºã€‚ç›´æ¥æ–­ç”µä¼°è®¡ä¸ä¼šæ‰åˆ°è¿™ä¸ªæ¨¡å¼é‡Œã€‚</li><li>1: å•äººæ¨¡å¼ï¼Œç±»ä¼¼Windowsçš„å®‰å…¨æ¨¡å¼ï¼Œ ä»…å¯åŠ¨rootç”¨æˆ·çš„å‡ ä¸ªå¿…è¦è¿›ç¨‹ï¼Œé™¤rootå¤–çš„å…¶ä»–æ–‡ä»¶ç³»ç»Ÿéƒ½ä¸ä¼šæŒ‚è½½</li><li>2: æ— ç½‘ç»œçš„å¤šäººæ¨¡å¼ï¼Œç½‘ç»œç›¸å…³æœåŠ¡éƒ½ä¸ä¼šå¯åŠ¨ï¼Œç½‘å¡ä¹Ÿä¸ä¼šè‡ªåŠ¨ifconfigã€‚è‡³äºå¤šäººæ¨¡å¼ï¼ŒUnix/Linuxéƒ½æ˜¯å¤šä»»åŠ¡å¤šç”¨æˆ·æ“ä½œç³»ç»Ÿï¼ŒåŒä¸€æ—¶é—´ç‚¹æ˜¯å…è®¸æœ‰å¤šä¸ªç”¨æˆ·åœ¨ç³»ç»Ÿä¸­å¼€å¤šä¸ªshellçš„ã€‚Windowsæ¡Œé¢ç‰ˆè¿™ç§å•ç”¨æˆ·æ“ä½œç³»ç»Ÿéœ€è¦é€€å‡ºå†åˆ‡æ¢ã€‚</li><li>3: å¸¦ç½‘ç»œçš„å¤šäººæ¨¡å¼ï¼Œä¸€èˆ¬çš„å‘½ä»¤è¡Œæ¨¡å¼</li><li>4: æ— ç”¨æˆ·æ¨¡å¼ï¼Œç”¨äºç‰¹æ®Šåœºæ™¯ï¼Œå¯è¿›å…¥æ¨¡å¼åæ–°å»ºç”¨æˆ·</li><li>5: GUIæ¨¡å¼ï¼Œ ä¼šå¯åŠ¨å›¾åƒç•Œé¢</li><li>6: é‡å¯æ¨¡å¼ï¼Œ ç±»ä¼¼0(å…³æœºæ¨¡å¼), ä¹Ÿéƒ½æ˜¯åœæ­¢æœåŠ¡çš„è„šæœ¬ï¼ˆKæ‰“å¤´ï¼‰ã€‚</li><li>S: å•äººæ¨¡å¼ï¼Œæ— ç½‘ç»œå’Œå„ç§æœåŠ¡è¿›ç¨‹çš„å•äººæ¨¡å¼ï¼Œè·Ÿ1å·æ¨¡å¼ç±»ä¼¼ï¼Œé™åˆ¶ç•¥å®½æ¾ä¸€äº›ã€‚</li></ul></li><li><p>rc.local: æ­¤æ–‡ä»¶ä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„shellè„šæœ¬ï¼Œ åˆå§‹åŒ–æ—¶æ˜¯ç©ºçš„ã€‚æœ‰ä¸€äº›ä¸æ–¹ä¾¿åšinit.dè„šæœ¬çš„ç®€å•ç¨‹åºï¼Œ å¯ä»¥æ”¾åœ¨è¿™ä¸ªè„šæœ¬ä¸­å¼€æœºå¯åŠ¨ã€‚è¯¥è„šæœ¬è™½ç„¶åå­—å«rc.localï¼Œ ä½†æ˜¯å’Œå…¶ä»–<code>rc*.d</code>ç›®å½•ä¸åŒï¼Œå…¶å¹¶ä¸å±äºå¼€æœºç­‰çº§å®šä¹‰ã€‚è€Œæ˜¯åœ¨å„è¿è¡Œæ¨¡å¼ï¼ˆé™¤0,6ä¸¤ä¸ªæ¨¡å¼å¤–çš„å…¶ä»–æ¨¡å¼ï¼‰çš„<code>rc*.d</code>ä¸­å‡åœ¨æœ€åä¸€æ­¥è°ƒèµ·<code>/etc/init.d/rc.local</code>çš„startå‡½æ•°ï¼Œ å†ç”±startå‡½æ•°å®Œæˆè°ƒç”¨ã€‚è€Œ<code>/etc/init.d/rc.local</code>çš„stopå‡½æ•°æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥å³æ—¶æ³¨å†Œäº†<code>K03rc.local</code>æ–‡ä»¶åˆ°æŸä¸ªè¿è¡Œæ¨¡å¼ä¸‹ï¼Œä¹Ÿä¸ä¼šå‘ç”Ÿ<code>/etc/rc.local</code>è„šæœ¬çš„è°ƒç”¨</p></li><li><p><code>rc*.d</code>ä¸­æ³¨å†Œçš„ä¿¡æ¯ï¼šå°è¯•åˆ—å‡º<code>/etc/rc3.d</code>(ä¸€èˆ¬å‘½ä»¤è¡Œæ¨¡å¼)ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼š<br><img src="http://blogqn.qixincha.com/D4861105-42BE-4A22-8140-A7C4D16ECC2A.png" alt=""><br>  å‘ç°é™¤READMEå¤–æ‰€æœ‰æ–‡ä»¶å‡è½¯é“¾æ¥åˆ°<code>/etc/init.d/</code>ç›®å½•ä¸­çš„è„šæœ¬ã€‚è¿™äº›è½¯è¿æ¥çš„æ–‡ä»¶åè§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>Kæ‰“å¤´ï¼ˆKxxxxï¼‰ï¼šä¼šè°ƒç”¨å¯¹åº”è„šæœ¬çš„stopå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯åœæ‰å¯¹åº”æœåŠ¡ã€‚å¯ä»¥æŠŠKçœ‹ä½œKillçš„é¦–å­—æ¯</li><li>Sæ‰“å¤´ï¼ˆSxxxxï¼‰ï¼šä¼šè°ƒç”¨å¯¹åº”è„šæœ¬çš„startå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨å¯¹åº”æœåŠ¡ã€‚å¯ä»¥æŠŠSçœ‹ä½œStartçš„é¦–å­—æ¯</li><li>K/Såé¢çš„æ•°å­—(K01xxxx/S02xxxx)ï¼šç”¨äºç¡®å®šè°ƒç”¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œè¶Šå…ˆè°ƒç”¨ã€‚</li><li>åé¢çš„å­—æ¯æ²¡æœ‰å¤šä½™çš„å«ä¹‰ï¼Œåªæ˜¯ä½¿ç”¨<code>update-rc.d</code>è„šæœ¬ç®¡ç†è¿™äº›æ³¨å†Œä¿¡æ¯æ—¶ï¼Œé»˜è®¤ä¼šä½¿ç”¨æœåŠ¡åç§°</li></ul></li><li><p>å¼€æœºæ—¶ä½œä¸šé¡ºåºå¦‚ä¸‹ï¼š å†…æ ¸åŠ è½½å®Œæ¯• -&gt; <code>/sbin/init</code>è¿›ç¨‹å¯åŠ¨ -&gt; æŒ¨ä¸ªè°ƒèµ·å¯¹åº”è¿è¡Œæ¨¡å¼ä¸‹çš„<code>rc.d</code>ä¸­æ³¨å†Œçš„æœåŠ¡çš„å¯¹åº”å‡½æ•° -&gt; è‹¥æ³¨å†Œäº†<code>S0xrc.local</code>ä¿¡æ¯ä¼šè°ƒèµ·<code>/etc/rc.local</code>è„šæœ¬</p></li><li>è€Œå…³æœº/é‡å¯ä½œä¸šé¡ºåºå¦‚ä¸‹ï¼š <code>/sbin/init</code>è¿›ç¨‹æ”¶åˆ°å…³æœº/é‡å¯ä¿¡å· -&gt; æŒ¨ä¸ªè°ƒèµ·å¯¹åº”è¿è¡Œæ¨¡å¼ä¸‹çš„<code>rc.d</code>ä¸­æ³¨å†Œçš„æœåŠ¡çš„å¯¹åº”å‡½æ•°ï¼ˆå…³æœºæ¨¡å¼ä¹Ÿå¯ä»¥æ³¨å†ŒSä¿¡æ¯ï¼Œåªè¦ä¸šåŠ¡éœ€æ±‚ï¼‰ -&gt; æœ€ç»ˆå…³é—­å†…æ ¸</li></ul><h2 id="systemd-æ›´äººæ€§åŒ–çš„æœåŠ¡è¿›ç¨‹ç®¡ç†å·¥å…·"><a href="#systemd-æ›´äººæ€§åŒ–çš„æœåŠ¡è¿›ç¨‹ç®¡ç†å·¥å…·" class="headerlink" title="systemd - æ›´äººæ€§åŒ–çš„æœåŠ¡è¿›ç¨‹ç®¡ç†å·¥å…·"></a>systemd - æ›´äººæ€§åŒ–çš„æœåŠ¡è¿›ç¨‹ç®¡ç†å·¥å…·</h2><ul><li><p>systemdä¸»è¦æ”¹è¿›æ˜¯åœ¨äººæœºäº¤äº’ä¸æ³¨å†Œæ–¹å¼ä¸Šï¼Œåº•å±‚çš„ä½œç”¨åŸç†ä¸Šæ²¡æœ‰å¤ªå¤šå˜åŒ–ã€‚æˆ‘æ›´å€¾å‘äºæŠŠä»–ç†è§£ä¸º<code>init.d</code>è„šæœ¬çš„ä¸€ä¸ªwrapperç¨‹åº,å½“ä½¿ç”¨systemdæ—¶æ³¨å†Œä¸è°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><ol><li><p>systemdé…ç½®æ–‡ä»¶åœ°å€ï¼Œç±»ä¼¼init.dçš„/etc/init.d/ç›®å½•ï¼š</p><pre><code>/lib/systemd/system/</code></pre></li><li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å‰ï¼Œéœ€ç¡®ä¿ <code>/etc/init.d/</code> æˆ– <code>/lib/systemd/system/</code> ä¸‹æœ‰å¯¹åº”æœåŠ¡çš„ç®¡ç†è„šæœ¬ã€‚<br>ç›¸å…³è„šæœ¬ä¸€èˆ¬éƒ½å¯googleåˆ°ï¼Œæ¯”å¦‚ï¼š<a href="https://github.com/zokeber/supervisor-systemd/blob/master/etc/systemd/system/supervisord.service" target="_blank" rel="external">https://github.com/zokeber/supervisor-systemd/blob/master/etc/systemd/system/supervisord.service</a><br>ä¹Ÿå¯ä»¥è‡ªå·±å‚è€ƒç€ç°æœ‰è„šæœ¬å†™</li><li><p>å¼€æœºè‡ªå¯åŠ¨ï¼Œä¹Ÿä¼šå¯¹åº”çš„å†™åˆ°rc.dä¸­ï¼š</p><pre><code>systemctl enable nginx</code></pre></li><li><p>æŸ¥çœ‹æ‰€æœ‰çš„å¼€æœºè‡ªå¯åŠ¨ï¼š</p><pre><code>systemctl list-unit-files | grep enabled</code></pre></li><li><p>ç§»é™¤å¼€æœºè‡ªå¯åŠ¨ï¼Œ ä¹Ÿä¼šå¯¹åº”çš„å†™åˆ°rc.dä¸­ï¼š</p><pre><code>systemctl disable nginx</code></pre></li><li><p>ç®¡ç†æœåŠ¡ï¼š</p><pre><code>systemctl reload nginxsystemctl restart nginxsystemctl stop nginx</code></pre></li></ol></li><li><p>æˆ‘ä»¬å‘ç°ä½¿ç”¨systemdåï¼Œ æ— éœ€å†å…³æ³¨åº•å±‚çš„<code>init.d</code> ä¸ <code>rc.d</code>çš„å·¥ä½œåŸç†ä¸ç›¸äº’å…³ç³»ã€‚è¯¥ç¨‹åºå°è£…äº†åº•å±‚æŠ€æœ¯ç»†èŠ‚ï¼Œä½¿å¾—äº¤äº’æ›´äººæ€§åŒ–ã€‚</p></li></ul><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html" target="_blank" rel="external">Systemd å…¥é—¨æ•™ç¨‹ï¼šå‘½ä»¤ç¯‡ - é˜®ä¸€å³°</a></li><li><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html" target="_blank" rel="external">Systemd å…¥é—¨æ•™ç¨‹ï¼šå®æˆ˜ç¯‡ - é˜®ä¸€å³°</a></li><li><a href="https://en.wikipedia.org/wiki/Runlevel" target="_blank" rel="external">ç»´åŸºç™¾ç§‘ï¼šLinux Runlevel</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://blogqn.qixincha.com/Systemctl_tw.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸€åUbuntuæœåŠ¡å™¨æ·±åº¦ç”¨æˆ·ï¼Œåœ¨Ubuntu 16.04ç‰ˆæœ¬ä¹‹å‰ä¸€ç›´ä½¿ç”¨&lt;code&gt;init.d&lt;/code&gt; + &lt;code&gt;rc.d&lt;/code&gt;å¥—è£…æ¥ç®¡ç†å„ç§æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ï¼šNginx, ssh, docker, supervisordç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Ubuntu 16.04 æ–°å¢äº†ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ç®¡ç†å·¥å…· &lt;code&gt;systemd&lt;/code&gt;ã€‚æˆ‘å°†å…¶ç†è§£ä¸ºä¸€ä¸ªwrapperç¨‹åºï¼Œå°è£…äº†åº•å±‚æŠ€æœ¯ç»†èŠ‚ï¼Œä½¿å¾—äº¤äº’æ›´äººæ€§åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¤ç§å‘½ä»¤éƒ½æ˜¯æ— éœ€å®‰è£…ä»»ä½•åŒ…å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¯æ›´æ¨èä½¿ç”¨æ–°çš„å‘½ä»¤ï¼Œä»¥è·å¾—æ›´ä½³çš„ä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿè‡ªå¸¦çš„å„ç§æœåŠ¡ï¼Œä¸dpkgåŒ…çš„é»˜è®¤é…ç½®çš„æœåŠ¡è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œéƒ½å·²è¿ç§»åˆ°systemdã€‚è¶³è§å®˜æ–¹å¯¹å…¶æ¨èç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œ&lt;code&gt;systemd&lt;/code&gt;å’Œ&lt;code&gt;init.d&lt;/code&gt; + &lt;code&gt;rc.d&lt;/code&gt;åˆ†åˆ«æ˜¯å¦‚ä½•ç®¡ç†æœåŠ¡çš„å‘¢ï¼Ÿsystemdçš„ä¼˜åŠ¿åˆåœ¨å“ªé‡Œï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://blog.whatslife.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Linux" scheme="http://blog.whatslife.cn/tags/Linux/"/>
    
      <category term="Ubuntu" scheme="http://blog.whatslife.cn/tags/Ubuntu/"/>
    
      <category term="æœåŠ¡è¿›ç¨‹ç®¡ç†" scheme="http://blog.whatslife.cn/tags/%E6%9C%8D%E5%8A%A1%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºè‡ªå·±è€Œæ´»çš„æ—¶å…‰</title>
    <link href="http://blog.whatslife.cn/posts/live-for-yourself/"/>
    <id>http://blog.whatslife.cn/posts/live-for-yourself/</id>
    <published>2018-03-17T11:22:04.000Z</published>
    <updated>2018-03-18T03:22:55.625Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://blogqn.qixincha.com/æµ·è¾¹å·¥ä½œ.jpg" alt=""></p><p>ä¸€ä¸ªäººçš„åˆ›ä¸šï¼Œ</p><p>å¤§æŠµæ˜¯è¿™æ ·çš„ï¼Œ</p><a id="more"></a><p>é¢æœç€è”šè“çš„å¤©ç©ºï¼Œ</p><p>æˆ–å‘ç€ç¢§è“çš„å¤§æµ·ï¼Œ</p><p>æ€€æ£å¤šå¹´æ¢¦æƒ³ï¼Œ</p><p>è¿½éšå†…å¿ƒæ‰€å‘ï¼Œ</p><p>ä¸€é—´å°å±‹ï¼Œ</p><p>ä¸€å°ç”µè„‘ï¼Œ</p><p>æ—¥å‡ºè€Œä½œï¼Œ</p><p>æ—¥è½è€Œæ¯ï¼Œ</p><p>å›°äº†å°æ†©ç‰‡åˆ»ï¼Œ</p><p>é¥¿äº†åƒäº›ä¸œè¥¿ï¼Œ</p><p>æœ‰æ—¶ç–²æƒ«å’Œçƒ¦èºè¢­æ¥ï¼Œ</p><p>å†²ä¸ªçƒ­æ°´æ¾¡ç»§ç»­å·¥ä½œï¼Œ</p><p>åšä¸€åæœ‰å°Šä¸¥çš„åŒ äººï¼Œ</p><p>èµšä¸€ä»½è¿‡å¾—å»çš„æ”¶å…¥ï¼Œ</p><p>å¯¹æœªæ¥ä¸å†æ„Ÿåˆ°ç„¦è™‘ï¼Œ</p><p>å¯¹è§„åˆ™ä¸å†è§‰å¾—æŸç¼šï¼Œ</p><p>ä¸ç”¨å†è€ƒè™‘ä»–äººæ˜¯å¦æ»¡æ„ï¼Œ</p><p>æ— éœ€å†çº ç»“æŠ‰æ‹©æ˜¯å¦æ­£ç¡®ï¼Œ</p><p>æœç€å¿ƒä¹‹æ‰€å‘ï¼Œ</p><p>æƒ³åœå°±åœï¼Œ</p><p>æƒ³èµ°ä¾¿èµ°ï¼Œ</p><p>å¤©é©¬è¡Œç©ºï¼Œ</p><p>ä»»ç”±ç•…æƒ³ï¼Œ</p><p>å¿½ç„¶ä¼šæœ‰é‚£ä¹ˆä¸€å¤©ï¼Œ</p><p>å†…å¿ƒæ„Ÿè§‰ç©ºç©ºè¡è¡ï¼Œ</p><p>ä¼¼ä¹æ¯”ç„¦è™‘æ›´éš¾ç†¬ï¼Œ</p><p>ä¼¼ä¹æ¯”è§„åˆ™æ›´çƒ¦èºï¼Œ</p><p>å› äººä¸æ˜¯é‡å…½æˆ–è€…ä¸Šå¸ï¼Œ</p><p>äººç»ˆç©¶è¿˜æ˜¯ç¤¾ä¼šæ€§åŠ¨ç‰©ï¼Œ</p><p>æ‰¾å‡ ä¸ªå¿—åŒé“åˆçš„åŒäº‹ï¼Œ</p><p>ç§Ÿä¸‹ä¸€é—´å®½æ•çš„åŠå…¬å®¤ï¼Œ</p><p>åˆ©ç›Šçº è‘›é‡æ–°å¸¦æ¥ç„¦è™‘ï¼Œ</p><p>ä¸–ä¿—ä»·å€¼å†æ¬¡å¹²æ‰°æŠ‰æ‹©ï¼Œ</p><p>åŸæ¥å…œå…œè½¬è½¬ï¼Œ</p><p>äººå’Œä¸–ç•Œéƒ½æ²¡æœ‰å˜åŒ–ï¼Œ</p><p>å”¯ä¸€æ”¹å˜çš„ï¼Œ</p><p>æ˜¯é‚£æ®µå®Œå…¨ä¸ºè‡ªå·±è€Œæ´»çš„æ—¶å…‰ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://blogqn.qixincha.com/æµ·è¾¹å·¥ä½œ.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªäººçš„åˆ›ä¸šï¼Œ&lt;/p&gt;
&lt;p&gt;å¤§æŠµæ˜¯è¿™æ ·çš„ï¼Œ&lt;/p&gt;
    
    </summary>
    
      <category term="ç”Ÿæ´»" scheme="http://blog.whatslife.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="ç”Ÿæ´»" scheme="http://blog.whatslife.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>django-xadmin</title>
    <link href="http://blog.whatslife.cn/posts/django-xadmin/"/>
    <id>http://blog.whatslife.cn/posts/django-xadmin/</id>
    <published>2016-08-05T08:13:41.000Z</published>
    <updated>2018-04-05T10:22:33.734Z</updated>
    
    <content type="html"><![CDATA[<p>Django xadminæ˜¯Django adminçš„æ›¿ä»£å“ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ã€‚èƒ½é€šè¿‡é…ç½®å¿«é€Ÿå®ç°chartæ˜¯æˆ‘é€‰æ‹©ä»–çš„ä¸»è¦åŸå› ã€‚å¦å¤–è¿˜æœ‰ç¬¬ä¸‰æ–¹æ’ä»¶å¯ä»¥ç”¨äºæ‰©å±•ã€‚</p><a id="more"></a><h2 id="Chart"><a href="#Chart" class="headerlink" title="Chart"></a>Chart</h2><p>xadmin é»˜è®¤ä½¿ç”¨Flot.jsä¸ºchartç»„å»ºï¼Œ è¯¥åº“ä¸ºåŸºäºjqueryçš„ä¸€ä¸ªchartåº“ï¼Œ è°ƒç”¨èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œ ä½†æ˜¯æ–‡æ¡£è´¨é‡è¾ƒå·®ï¼ŒåŠŸèƒ½è¾ƒå¼±ï¼Œä½“éªŒä¹Ÿä¸å¤ªç†æƒ³ã€‚<br>æ¯”è¾ƒæ–¹ä¾¿çš„æ˜¯è¯¥æ’ä»¶æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„viewsæ–¹æ³•ï¼Œ èƒ½é€šè¿‡é…ç½®è½»æ¾çš„æ„å»ºå‡ºAJAXæ•°æ®APIï¼Œä¸”templateä¸Šä¹Ÿå°†æ•°æ®APIä¸ç›¸åº”çš„chartå…ƒç´ ä½œå¥½ç»‘å®šã€‚<br>åœ¨Model OptionClass ä¸­è®¾å®šdata_chartså±æ€§ï¼Œè¯¥å±æ€§ä¸ºdictç±»å‹ï¼Œkeyæ˜¯å›¾è¡¨çš„æ ‡ç¤ºåç§°ï¼Œvalueæ˜¯å›¾è¡¨çš„å…·ä½“è®¾ç½®å±æ€§ï¼Œç¤ºä¾‹:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">RecordAdmin</span><span class="params">(object)</span>:</span></div><div class="line">    data_charts = &#123;</div><div class="line">        <span class="string">"user_count"</span>: &#123;<span class="string">'title'</span>: <span class="string">u"User Report"</span>, <span class="string">"x-field"</span>: <span class="string">"date"</span>, <span class="string">"y-field"</span>: (<span class="string">"user_count"</span>, <span class="string">"view_count"</span>), <span class="string">"order"</span>: (<span class="string">'date'</span>,)&#125;,</div><div class="line">        <span class="string">"avg_count"</span>: &#123;<span class="string">'title'</span>: <span class="string">u"Avg Report"</span>, <span class="string">"x-field"</span>: <span class="string">"date"</span>, <span class="string">"y-field"</span>: (<span class="string">'avg_count'</span>,), <span class="string">"order"</span>: (<span class="string">'date'</span>,)&#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p><ul><li><p>å›¾è¡¨çš„ä¸»è¦å±æ€§ä¸º:</p><ul><li>title : å›¾è¡¨çš„æ˜¾ç¤ºåç§°</li><li>x-field : å›¾è¡¨çš„ X è½´æ•°æ®åˆ—, ä¸€èˆ¬æ˜¯æ—¥æœŸ, æ—¶é—´ç­‰</li><li>y-field : å›¾è¡¨çš„ Y è½´æ•°æ®åˆ—, è¯¥é¡¹æ˜¯ä¸€ä¸ª list, å¯ä»¥åŒæ—¶è®¾å®šå¤šä¸ªåˆ—, è¿™æ ·å¤šä¸ªåˆ—çš„æ•°æ®ä¼šåœ¨åŒä¸€ä¸ªå›¾è¡¨ä¸­æ˜¾ç¤º</li><li>order : æ’åºä¿¡æ¯, å¦‚æœä¸å†™åˆ™ä½¿ç”¨æ•°æ®åˆ—è¡¨çš„æ’åº</li><li>option: flot.jsçš„å…¶ä»–å‚æ•°ï¼Œ ä¼šè¦†ç›–é»˜è®¤çš„å‚æ•°, å®˜æ–¹æ–‡æ¡£æœªæåŠï¼Œ ä½†æ˜¯è¿™ä¸ªå‚æ•°å¯¹äºè‡ªå®šä¹‰chartéå¸¸é‡è¦</li></ul></li><li><p>API</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">class xadmin<span class="selector-class">.plugins</span><span class="selector-class">.chart</span><span class="selector-class">.ChartsPlugin</span>(admin_view)</div><div class="line"></div><div class="line">class xadmin<span class="selector-class">.plugins</span><span class="selector-class">.chart</span><span class="selector-class">.ChartsView</span>(request, *args, **kwargs)</div></pre></td></tr></table></figure></li></ul><h3 id="data-charts-çš„key"><a href="#data-charts-çš„key" class="headerlink" title="data_charts çš„key"></a>data_charts çš„key</h3><p>æ­¤keyæ— å®é™…ä½œç”¨ï¼Œä¸ºäº†æ§åˆ¶å„chartçš„é¡ºåºï¼Œ æœ€å¥½ä½¿ç”¨collection.OrderedDictæ¥åˆå§‹åŒ–</p><h3 id="y-field"><a href="#y-field" class="headerlink" title="y-field"></a>y-field</h3><p>æ­¤å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªcallableçš„æ–¹æ³•ï¼Œ å¯ä»¥æ˜¯modaladminä¸­å·²å®šä¹‰å¥½çš„ä¸€ä¸ªå‡½æ•°åã€‚</p><h3 id="order"><a href="#order" class="headerlink" title="order"></a>order</h3><p>åªèƒ½æ˜¯æ•°æ®ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œ ä¸”æ˜¯æŸ¥è¯¢æ—¶æ’åºï¼Œ ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚</p><h3 id="ç›´æ¥ä¸Šä»£ç ï¼Œ-æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¯¥æ’ä»¶å®ç°å‘˜å·¥è°ƒä¼‘ç»Ÿè®¡å›¾è¡¨ï¼š"><a href="#ç›´æ¥ä¸Šä»£ç ï¼Œ-æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¯¥æ’ä»¶å®ç°å‘˜å·¥è°ƒä¼‘ç»Ÿè®¡å›¾è¡¨ï¼š" class="headerlink" title="ç›´æ¥ä¸Šä»£ç ï¼Œ æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¯¥æ’ä»¶å®ç°å‘˜å·¥è°ƒä¼‘ç»Ÿè®¡å›¾è¡¨ï¼š"></a>ç›´æ¥ä¸Šä»£ç ï¼Œ æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¯¥æ’ä»¶å®ç°å‘˜å·¥è°ƒä¼‘ç»Ÿè®¡å›¾è¡¨ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">WorkDayOffAdmin</span><span class="params">(object)</span>:</span></div><div class="line">    data_charts = OrderedDict((</div><div class="line">        (</div><div class="line">            <span class="string">"all"</span>,</div><div class="line">            &#123;</div><div class="line">                <span class="string">'title'</span>: <span class="string">u"æ€»è§ˆ"</span>,</div><div class="line">                <span class="string">'x-field'</span>: <span class="string">'burnish_user__name'</span>,</div><div class="line">                <span class="string">'y-field'</span>: (</div><div class="line">                    <span class="string">'work_day_offs'</span>,</div><div class="line">                    <span class="string">'extra_works'</span>,</div><div class="line">                    <span class="string">'total_hours'</span>,</div><div class="line">                ),</div><div class="line">                <span class="string">'order'</span>: (<span class="string">'hours'</span>, ),</div><div class="line">                <span class="string">'option'</span>:&#123;</div><div class="line">                    <span class="string">'series'</span>: &#123;</div><div class="line">                        <span class="string">'bars'</span>: &#123;</div><div class="line">                            <span class="string">'show'</span>: <span class="keyword">True</span>,</div><div class="line">                            <span class="string">'barWidth'</span>: <span class="number">0.5</span>,</div><div class="line">                        &#125;</div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">'xaxis'</span>: &#123;</div><div class="line">                        <span class="string">'mode'</span>: <span class="string">"categories"</span>,</div><div class="line">                        <span class="string">'tickLength'</span>: <span class="number">0</span>,</div><div class="line">                    &#125;,</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">        ),</div><div class="line">        (</div><div class="line">            <span class="string">"last"</span>,</div><div class="line">            &#123;</div><div class="line">                <span class="string">'title'</span>: <span class="string">u"å‰©ä½™æ¢ä¼‘"</span>,</div><div class="line">                <span class="string">'x-field'</span>: <span class="string">'burnish_user__name'</span>,</div><div class="line">                <span class="string">'y-field'</span>: (</div><div class="line">                    <span class="string">'total_hours'</span>,</div><div class="line">                ),</div><div class="line">                <span class="string">'order'</span>: (<span class="string">'hours'</span>, ),</div><div class="line">                <span class="string">'option'</span>:&#123;</div><div class="line">                    <span class="string">'series'</span>: &#123;</div><div class="line">                        <span class="string">'bars'</span>: &#123;</div><div class="line">                            <span class="string">'show'</span>: <span class="keyword">True</span>,</div><div class="line">                            <span class="string">'barWidth'</span>: <span class="number">0.5</span>,</div><div class="line">                        &#125;</div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">'xaxis'</span>: &#123;</div><div class="line">                        <span class="string">'mode'</span>: <span class="string">"categories"</span>,</div><div class="line">                        <span class="string">'tickLength'</span>: <span class="number">0</span>,</div><div class="line">                    &#125;,</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">        ),</div><div class="line">        (</div><div class="line">            <span class="string">"extra_works"</span>,</div><div class="line">            &#123;</div><div class="line">                <span class="string">'title'</span>: <span class="string">u"åŠ ç­"</span>,</div><div class="line">                <span class="string">'x-field'</span>: <span class="string">'burnish_user__name'</span>,</div><div class="line">                <span class="string">'y-field'</span>: (</div><div class="line">                    <span class="string">'extra_works'</span>,</div><div class="line">                ),</div><div class="line">                <span class="string">'order'</span>: (<span class="string">'hours'</span>, ),</div><div class="line">                <span class="string">'option'</span>:&#123;</div><div class="line">                    <span class="string">'series'</span>: &#123;</div><div class="line">                        <span class="string">'bars'</span>: &#123;</div><div class="line">                            <span class="string">'show'</span>: <span class="keyword">True</span>,</div><div class="line">                            <span class="string">'barWidth'</span>: <span class="number">0.5</span>,</div><div class="line">                        &#125;</div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">'xaxis'</span>: &#123;</div><div class="line">                        <span class="string">'mode'</span>: <span class="string">"categories"</span>,</div><div class="line">                        <span class="string">'tickLength'</span>: <span class="number">0</span>,</div><div class="line">                    &#125;,</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">        ),</div><div class="line">        (</div><div class="line">            <span class="string">"work_offs"</span>,</div><div class="line">            &#123;</div><div class="line">                <span class="string">'title'</span>: <span class="string">u"å·²æ¢ä¼‘"</span>,</div><div class="line">                <span class="string">'x-field'</span>: <span class="string">'burnish_user__name'</span>,</div><div class="line">                <span class="string">'y-field'</span>: (</div><div class="line">                    <span class="string">'work_day_offs'</span>,</div><div class="line">                ),</div><div class="line">                <span class="string">'order'</span>: (<span class="string">'hours'</span>, ),</div><div class="line">                <span class="string">'option'</span>:&#123;</div><div class="line">                    <span class="string">'series'</span>: &#123;</div><div class="line">                        <span class="string">'bars'</span>: &#123;</div><div class="line">                            <span class="string">'show'</span>: <span class="keyword">True</span>,</div><div class="line">                            <span class="string">'barWidth'</span>: <span class="number">0.5</span>,</div><div class="line">                        &#125;</div><div class="line">                    &#125;,</div><div class="line">                    <span class="string">'xaxis'</span>: &#123;</div><div class="line">                        <span class="string">'mode'</span>: <span class="string">"categories"</span>,</div><div class="line">                        <span class="string">'tickLength'</span>: <span class="number">0</span>,</div><div class="line">                    &#125;,</div><div class="line">                &#125;,</div><div class="line">            &#125;,</div><div class="line">        ),</div><div class="line">    ))</div><div class="line">    list_display = (</div><div class="line">        <span class="string">'burnish_user'</span>,</div><div class="line">        <span class="string">'from_date'</span>,</div><div class="line">        <span class="string">'end_date'</span>,</div><div class="line">        <span class="string">'hours'</span>,</div><div class="line">        <span class="string">'status'</span>,</div><div class="line">        <span class="string">'reason'</span>,</div><div class="line">    )</div><div class="line">    list_filter = (</div><div class="line">        <span class="string">'burnish_user'</span>,</div><div class="line">        <span class="string">'status'</span>,</div><div class="line">    )</div><div class="line">    search_fields = (</div><div class="line">        <span class="string">'burnish_user__name'</span>,</div><div class="line">        <span class="string">'reason'</span>,</div><div class="line">    )</div><div class="line">    list_editable = (</div><div class="line">        <span class="string">'from_date'</span>,</div><div class="line">        <span class="string">'end_date'</span>,</div><div class="line">        <span class="string">'hours'</span>,</div><div class="line">        <span class="string">'status'</span>,</div><div class="line">    )</div><div class="line">    date_hierarchy = <span class="string">'from_date'</span></div><div class="line">    total_hours_dealed = <span class="keyword">None</span></div><div class="line">    extra_works_dealed = <span class="keyword">None</span></div><div class="line">    work_day_offs_dealed = <span class="keyword">None</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">total_hours</span><span class="params">(self, data)</span>:</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.total_hours_dealed:</div><div class="line">            self.total_hours_dealed = []</div><div class="line">        user_id = data.burnish_user.id</div><div class="line">        <span class="keyword">if</span> user_id  <span class="keyword">in</span> self.total_hours_dealed:</div><div class="line">            <span class="keyword">return</span>  <span class="keyword">None</span></div><div class="line">        self.total_hours_dealed.append(user_id)</div><div class="line">        <span class="keyword">return</span> WorkDayOff.objects.filter(</div><div class="line">            burnish_user_id=user_id,</div><div class="line">            status=<span class="string">'sure'</span>,</div><div class="line">        ).aggregate(</div><div class="line">            total_hours=Sum(<span class="string">'hours'</span>)</div><div class="line">        )[<span class="string">'total_hours'</span>] <span class="keyword">or</span> <span class="number">0</span></div><div class="line">    total_hours.short_description = <span class="string">'å‰©ä½™æ¢ä¼‘'</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">extra_works</span><span class="params">(self, data)</span>:</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.extra_works_dealed:</div><div class="line">            self.extra_works_dealed= []</div><div class="line">        user_id = data.burnish_user.id</div><div class="line">        <span class="keyword">if</span> user_id  <span class="keyword">in</span> self.extra_works_dealed:</div><div class="line">            <span class="keyword">return</span>  <span class="keyword">None</span></div><div class="line">        self.extra_works_dealed.append(user_id)</div><div class="line">        <span class="keyword">return</span> WorkDayOff.objects.filter(</div><div class="line">            burnish_user_id=user_id,</div><div class="line">            status=<span class="string">'sure'</span>,</div><div class="line">            hours__gt=<span class="number">0</span>,</div><div class="line">        ).aggregate(</div><div class="line">            total_hours=Sum(<span class="string">'hours'</span>)</div><div class="line">        )[<span class="string">'total_hours'</span>] <span class="keyword">or</span> <span class="number">0</span></div><div class="line">    extra_works.short_description = <span class="string">'æ€»è®¡åŠ ç­'</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">work_day_offs</span><span class="params">(self, data)</span>:</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.work_day_offs_dealed:</div><div class="line">            self.work_day_offs_dealed= []</div><div class="line">        user_id = data.burnish_user.id</div><div class="line">        <span class="keyword">if</span> user_id  <span class="keyword">in</span> self.work_day_offs_dealed:</div><div class="line">            <span class="keyword">return</span>  <span class="keyword">None</span></div><div class="line">        self.work_day_offs_dealed.append(user_id)</div><div class="line">        <span class="keyword">return</span> abs(WorkDayOff.objects.filter(</div><div class="line">            burnish_user_id=user_id,</div><div class="line">            status=<span class="string">'sure'</span>,</div><div class="line">            hours__lt=<span class="number">0</span>,</div><div class="line">        ).aggregate(</div><div class="line">            total_hours=Sum(<span class="string">'hours'</span>)</div><div class="line">        )[<span class="string">'total_hours'</span>] <span class="keyword">or</span> <span class="number">0</span>)</div><div class="line">    work_day_offs.short_description = <span class="string">'æ€»è®¡ä¼‘å‡'</span></div></pre></td></tr></table></figure><p><img src="http://obdp0ndxs.bkt.clouddn.com/admin_charts.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Django xadminæ˜¯Django adminçš„æ›¿ä»£å“ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ã€‚èƒ½é€šè¿‡é…ç½®å¿«é€Ÿå®ç°chartæ˜¯æˆ‘é€‰æ‹©ä»–çš„ä¸»è¦åŸå› ã€‚å¦å¤–è¿˜æœ‰ç¬¬ä¸‰æ–¹æ’ä»¶å¯ä»¥ç”¨äºæ‰©å±•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://blog.whatslife.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Django" scheme="http://blog.whatslife.cn/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>æœ€å¥½ç”¨çš„Djangoå¯Œæ–‡æœ¬ç¼–è¾‘å™¨</title>
    <link href="http://blog.whatslife.cn/posts/use-django-wysiwyg-as-django-rich-text-editor/"/>
    <id>http://blog.whatslife.cn/posts/use-django-wysiwyg-as-django-rich-text-editor/</id>
    <published>2016-08-04T06:57:52.000Z</published>
    <updated>2017-06-13T03:37:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>Djangoä¸è‡ªå¸¦å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä½†æ˜¯å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯åšCRMç³»ç»Ÿä¸å¯ç¼ºçš„å·¥å…·ã€‚æˆ‘ä»¬å‰åå°è¯•è¿‡å¤šä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œ åŒ…æ‹¬ä½†ä¸é™äº<code>Ueditor</code>, <code>Django-Summernote</code>ç­‰ã€‚<br>æœ€åæ‰¾åˆ°ä¸€ä¸ªæœ€åˆé€‚çš„æ–¹æ¡ˆï¼š <a target="_blank" href="https://github.com/django-ckeditor/django-ckeditor">django-ckeditor</a><br><img src="http://obdp0ndxs.bkt.clouddn.com/ckeditor.png" alt=""></p><a id="more"></a><h2 id="Django-WYSIWYG"><a href="#Django-WYSIWYG" class="headerlink" title="Django WYSIWYG"></a>Django WYSIWYG</h2><p>æˆ‘ä»¬åœ¨æ¥å…¥CKEDITORæ—¶ç”¨åˆ°å¦ä¸€ä¸ªå·¥å…·ï¼š<a target="_blank" href="https://github.com/pydanny-archive/django-wysiwyg">django-wysiwyg</a><br>æ­¤ç‰©ä½œç”¨æ˜¯å°†Djangoçš„å„ç§WYSIWYGç¼–è¾‘å™¨è¿›è¡Œç»Ÿä¸€å°è£…ï¼Œåšæˆä¸€ä¸ªæ¥å£ç»Ÿä¸€çš„æ¥å£ã€‚å…¶åªæä¾›æ¥å£ï¼Œå…·ä½“è¦ç”¨çš„å„ä¸ªç¼–è¾‘å™¨æœ¬èº«ï¼Œ è¿˜æ˜¯éœ€è¦åˆ†åˆ«å®‰è£…çš„ã€‚<br>æ­¤å·¥å…·ä¸»è¦æä¾›å‡ ä¸ª<code>tag</code>å’Œä¸€ä¸ª<code>change_form.html</code>é¡µé¢ã€‚ </p><ul><li>å½“åœ¨æˆ‘ä»¬è‡ªå·±å†™çš„APPä¸­ä½¿ç”¨æ—¶, åªéœ€æŒ‰ç…§å…¶æ–‡æ¡£ï¼Œè°ƒç”¨<code>tag</code>å³å¯å°†<code>textarea</code>æ ‡ç­¾è½¬æ¢ä¸º<code>settings</code>ä¸­é…ç½®å¥½çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ— éœ€ä¿®æ”¹ä»»ä½•<code>py</code>ä»£ç ã€‚</li><li>è€Œ<code>change_form.html</code>æ˜¯ç”¨äºæ›¿æ¢<code>Django Admin</code>ä¸­çš„<code>change form template</code>çš„ã€‚<br>åŸç†æ˜¯ç»§æ‰¿äºåŸ<code>admin</code>çš„<code>change_form.html</code>å¹¶æ·»åŠ äº†WYSIWYGç›¸å…³ä»£ç ã€‚</li></ul><h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><ol><li><p>å®‰è£…ç›¸å…³åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">pip install django-wysiwyg</div><div class="line">pip install django-ckeditor</div></pre></td></tr></table></figure></li><li><p>åœ¨INSTALLED_APPSä¸­æ·»åŠ ç›¸åº”çš„åº“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">INSTALLED_APPS = [</div><div class="line"></div><div class="line">    â€¦â€¦</div><div class="line"></div><div class="line">    <span class="string">'ckeditor'</span>,</div><div class="line">    <span class="string">'ckeditor_uploader'</span>,</div><div class="line">    <span class="string">'django_wysiwyg'</span>,</div><div class="line"></div><div class="line">    â€¦â€¦</div><div class="line"></div><div class="line">]</div></pre></td></tr></table></figure></li><li><p>ç¡®ä¿é¡¹ç›®çš„STATIC_ROOT, STATIC_URL, MEDIA_ROOT, MEDIA_URLç­‰æ­£ç¡®é…ç½®</p></li><li><p>settingsä¸­æ·»åŠ ç›¸åº”é…ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">DJANGO_WYSIWYG_FLAVOR = <span class="string">"ckeditor"</span>  <span class="comment"># ä½¿ç”¨å“ªä¸ªç¬¦æ–‡æœ¬ç¼–è¾‘å™¨</span></div><div class="line">CKEDITOR_UPLOAD_PATH = <span class="string">"ck_uploads/"</span>  <span class="comment"># æ–‡ä»¶ä¸Šä¼ è·¯å¾„</span></div><div class="line">CKEDITOR_UPLOAD_SLUGIFY_FILENAME = <span class="keyword">True</span></div><div class="line">CKEDITOR_IMAGE_BACKEND = <span class="string">'pillow'</span>  <span class="comment"># ä½¿ç”¨pillowå¤„ç†å›¾ç‰‡</span></div><div class="line">CKEDITOR_ALLOW_NONIMAGE_FILES = <span class="keyword">False</span>  <span class="comment"># åªå…è®¸ä¸Šä¼ å›¾ç‰‡</span></div><div class="line">CKEDITOR_JQUERY_URL = <span class="string">"%s/jslib/jquery-1.11.0.min.js"</span> % STATIC_URL  <span class="comment"># æŒ‡å®šjqueryæ–‡ä»¶è·¯å¾„,å¦åˆ™ä¼šä½¿ç”¨google cdn.</span></div><div class="line">DJANGO_WYSIWYG_MEDIA_URL = <span class="string">"%s/ckeditor/"</span> % STATIC_URL  <span class="comment"># æŒ‡å®šckeditor çš„jså’Œcssæ‰€åœ¨è·¯å¾„</span></div></pre></td></tr></table></figure></li><li><p>urlsä¸­æ·»åŠ ç›¸å…³uploader url</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">url(<span class="string">r'^ckeditor/'</span>, include(<span class="string">'ckeditor_uploader.urls'</span>)),</div></pre></td></tr></table></figure></li><li><p>CKEDITORæ¨èé…ç½®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">'skin'</span>: <span class="string">'moono'</span>,</div><div class="line">    <span class="comment"># 'skin': 'office2013',</span></div><div class="line">    <span class="string">'toolbar_Basic'</span>: [</div><div class="line">        [<span class="string">'Source'</span>, <span class="string">'-'</span>, <span class="string">'Bold'</span>, <span class="string">'Italic'</span>]</div><div class="line">    ],</div><div class="line">    <span class="string">'toolbar_YouCustomToolbarConfig'</span>: [</div><div class="line">        &#123;</div><div class="line">            <span class="string">'name'</span>: <span class="string">'basicstyles'</span>,</div><div class="line">            <span class="string">'items'</span>: [</div><div class="line">                <span class="string">'Bold'</span>, <span class="string">'Italic'</span>, <span class="string">'Underline'</span>, <span class="string">'Strike'</span>,</div><div class="line">                <span class="string">'Subscript'</span>, <span class="string">'Superscript'</span>, <span class="string">'-'</span>, <span class="string">'RemoveFormat'</span></div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            <span class="string">'name'</span>: <span class="string">'paragraph'</span>,</div><div class="line">            <span class="string">'items'</span>: [</div><div class="line">                <span class="string">'NumberedList'</span>, <span class="string">'BulletedList'</span>, <span class="string">'-'</span>, <span class="string">'Outdent'</span>, <span class="string">'Indent'</span>,</div><div class="line">                <span class="string">'-'</span>, <span class="string">'Blockquote'</span>, <span class="string">'CreateDiv'</span>, <span class="string">'-'</span>, <span class="string">'JustifyLeft'</span>,</div><div class="line">                <span class="string">'JustifyCenter'</span>, <span class="string">'JustifyRight'</span>, <span class="string">'JustifyBlock'</span>,</div><div class="line">                <span class="string">'-'</span>, <span class="string">'BidiLtr'</span>, <span class="string">'BidiRtl'</span>, <span class="string">'Language'</span></div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        &#123;<span class="string">'name'</span>: <span class="string">'links'</span>, <span class="string">'items'</span>: [<span class="string">'Link'</span>, <span class="string">'Unlink'</span>, <span class="string">'Anchor'</span>]&#125;,</div><div class="line">        &#123;</div><div class="line">            <span class="string">'name'</span>: <span class="string">'insert'</span>,</div><div class="line">            <span class="string">'items'</span>: [</div><div class="line">                <span class="string">'Image'</span>, <span class="string">'Flash'</span>, <span class="string">'Table'</span>, <span class="string">'HorizontalRule'</span>,</div><div class="line">                <span class="string">'Smiley'</span>, <span class="string">'SpecialChar'</span>, <span class="string">'PageBreak'</span>, <span class="string">'Iframe'</span></div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        <span class="string">'/'</span>,</div><div class="line">        &#123;</div><div class="line">            <span class="string">'name'</span>: <span class="string">'clipboard'</span>,</div><div class="line">            <span class="string">'items'</span>: [</div><div class="line">                <span class="string">'Cut'</span>, <span class="string">'Copy'</span>, <span class="string">'Paste'</span>, <span class="string">'PasteText'</span>,</div><div class="line">                <span class="string">'PasteFromWord'</span>, <span class="string">'-'</span>, <span class="string">'Undo'</span>, <span class="string">'Redo'</span></div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        &#123;<span class="string">'name'</span>: <span class="string">'editing'</span>, <span class="string">'items'</span>: [</div><div class="line">            <span class="string">'Find'</span>, <span class="string">'Replace'</span>, <span class="string">'-'</span>, <span class="string">'SelectAll'</span>]&#125;,</div><div class="line">        &#123;</div><div class="line">            <span class="string">'name'</span>: <span class="string">'forms'</span>,</div><div class="line">            <span class="string">'items'</span>: [</div><div class="line">                <span class="string">'Form'</span>, <span class="string">'Checkbox'</span>, <span class="string">'Radio'</span>, <span class="string">'TextField'</span>, <span class="string">'Textarea'</span>,</div><div class="line">                <span class="string">'Select'</span>, <span class="string">'Button'</span>, <span class="string">'ImageButton'</span>, <span class="string">'HiddenField'</span></div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            <span class="string">'name'</span>: <span class="string">'styles'</span>,</div><div class="line">            <span class="string">'items'</span>: [</div><div class="line">                <span class="string">'Styles'</span>, <span class="string">'Format'</span>, <span class="string">'Font'</span>, <span class="string">'FontSize'</span></div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        &#123;<span class="string">'name'</span>: <span class="string">'colors'</span>, <span class="string">'items'</span>: [<span class="string">'TextColor'</span>, <span class="string">'BGColor'</span>]&#125;,</div><div class="line">        &#123;</div><div class="line">            <span class="string">'name'</span>: <span class="string">'tools'</span>,</div><div class="line">            <span class="string">'items'</span>: [</div><div class="line">                <span class="string">'Maximize'</span>,</div><div class="line">                <span class="string">'ShowBlocks'</span>,</div><div class="line">                <span class="string">'Preview'</span>,</div><div class="line">                <span class="string">'Source'</span>,</div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">    ],</div><div class="line">    <span class="comment"># put selected toolbar config here</span></div><div class="line">    <span class="string">'toolbar'</span>: <span class="string">'YouCustomToolbarConfig'</span>,</div><div class="line">    <span class="comment"># 'toolbarGroups': [&#123; 'name': 'document', 'groups': [ 'mode', 'document', 'doctools' ] &#125;],</span></div><div class="line">    <span class="comment"># 'height': 291,</span></div><div class="line">    <span class="comment"># 'width': '100%',</span></div><div class="line">    <span class="comment"># 'filebrowserWindowHeight': 725,</span></div><div class="line">    <span class="comment"># 'filebrowserWindowWidth': 940,</span></div><div class="line">    <span class="comment"># 'toolbarCanCollapse': True,</span></div><div class="line">    <span class="comment"># 'mathJaxLib': '//cdn.mathjax.org/mathjax/2.2-latest/MathJax.js?config=TeX-AMS_HTML',</span></div><div class="line">    <span class="string">'tabSpaces'</span>: <span class="number">4</span>,</div><div class="line">    <span class="string">'filebrowserImageUploadUrl'</span>: <span class="string">'/ckeditor/upload/'</span>,</div><div class="line">    <span class="string">'extraPlugins'</span>: <span class="string">','</span>.join(</div><div class="line">        [</div><div class="line">            <span class="comment"># you extra plugins here</span></div><div class="line">            <span class="string">'div'</span>,</div><div class="line">            <span class="string">'autolink'</span>,</div><div class="line">            <span class="string">'autoembed'</span>,</div><div class="line">            <span class="string">'embedsemantic'</span>,</div><div class="line">            <span class="string">'autogrow'</span>,</div><div class="line">            <span class="string">'image2'</span>,</div><div class="line">            <span class="comment"># 'devtools',</span></div><div class="line">            <span class="string">'widget'</span>,</div><div class="line">            <span class="string">'lineutils'</span>,</div><div class="line">            <span class="string">'clipboard'</span>,</div><div class="line">            <span class="string">'dialog'</span>,</div><div class="line">            <span class="string">'dialogui'</span>,</div><div class="line">            <span class="string">'elementspath'</span></div><div class="line">        ]),</div><div class="line">&#125;</div></pre></td></tr></table></figure></li><li><p>åœ¨éœ€è¦ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„åœ°æ–¹è°ƒç”¨WYSIWYG æä¾›çš„tag:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;% load wysiwyg %&#125;  <span class="comment"># åŠ è½½tag</span></div><div class="line">&#123;% wysiwyg_setup %&#125;  <span class="comment"># å¼•å…¥å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„js, cssç­‰</span></div><div class="line">&#123;% wysiwyg_editor <span class="string">"id_detail"</span> <span class="string">"id_detail_editor"</span> CKEDITOR_CONFIGS|safe  %&#125;  <span class="comment"># åœ¨éœ€è¦ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„å…ƒç´ åè°ƒç”¨, æ³¨æ„é…ç½®å¿…é¡»ç”¨safe filterä¼ å…¥ï¼Œ å¦åˆ™ä¼šè½¬ä¹‰, jsä¼šæŠ¥é”™</span></div></pre></td></tr></table></figure></li></ol><h2 id="å…³äºå›¾ç‰‡ä¸Šä¼ "><a href="#å…³äºå›¾ç‰‡ä¸Šä¼ " class="headerlink" title="å…³äºå›¾ç‰‡ä¸Šä¼ "></a>å…³äºå›¾ç‰‡ä¸Šä¼ </h2><ol><li>åŠ¡å¿…å®‰è£…å¹¶æ­£ç¡®é…ç½®ckeditor_uploader</li><li>åœ¨CKEDITORçš„é…ç½®ä¸­ï¼Œ å¿…é¡»é…ç½®<code>filebrowserImageUploadUrl</code></li><li>æ¨èä½¿ç”¨image2æ’ä»¶æ¥æ›¿æ¢åŸæ¥çš„imageæ’ä»¶ï¼Œ æ›´ç®€æ´å¥½ç”¨</li><li>CKEDITORæ˜¯å¯ä»¥æ”¯æŒå›¾ç‰‡æ‹–æ‹½å’Œå¤åˆ¶çš„ï¼Œ ä¼šè‡ªåŠ¨ä¸Šä¼ ã€‚è¯¦è§<code>uploadimage</code>æ’ä»¶ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Djangoä¸è‡ªå¸¦å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä½†æ˜¯å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯åšCRMç³»ç»Ÿä¸å¯ç¼ºçš„å·¥å…·ã€‚æˆ‘ä»¬å‰åå°è¯•è¿‡å¤šä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œ åŒ…æ‹¬ä½†ä¸é™äº&lt;code&gt;Ueditor&lt;/code&gt;, &lt;code&gt;Django-Summernote&lt;/code&gt;ç­‰ã€‚&lt;br&gt;æœ€åæ‰¾åˆ°ä¸€ä¸ªæœ€åˆé€‚çš„æ–¹æ¡ˆï¼š &lt;a target=&quot;_blank&quot; href=&quot;https://github.com/django-ckeditor/django-ckeditor&quot;&gt;django-ckeditor&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;http://obdp0ndxs.bkt.clouddn.com/ckeditor.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Django" scheme="http://blog.whatslife.cn/categories/Django/"/>
    
    
  </entry>
  
  <entry>
    <title>RethinkDB å®æ—¶æ•°æ®åº“</title>
    <link href="http://blog.whatslife.cn/posts/RethinkDB-database-for-the-realtime/"/>
    <id>http://blog.whatslife.cn/posts/RethinkDB-database-for-the-realtime/</id>
    <published>2016-08-01T05:46:35.000Z</published>
    <updated>2017-06-13T03:37:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>RethinkDB æ˜¯ä¸€ä¸ªä¸ºæ„å»ºå®æ—¶åº”ç”¨ç¨‹åºè€Œç”Ÿçš„å¼€æºæ•°æ®åº“ï¼Œå®ƒå¯ä»¥å®æ—¶åœ°å‘ä½ çš„åº”ç”¨ç¨‹åºæ¨é€æ•°æ®</p><p><img src="http://img.l.jifangcheng.com/rethinkdb-1.png" alt=""></p><a id="more"></a><h2 id="ä»€ä¹ˆæ˜¯-RethinkDB"><a href="#ä»€ä¹ˆæ˜¯-RethinkDB" class="headerlink" title="ä»€ä¹ˆæ˜¯ RethinkDB"></a>ä»€ä¹ˆæ˜¯ RethinkDB</h2><ul><li>ä¸€ä¸ªä¸ºæ„å»ºå®æ—¶åº”ç”¨ç¨‹åºè€Œç”Ÿçš„å¼€æºæ•°æ®åº“</li><li>NoSQL éå…³ç³»å‹æ•°æ®åº“ï¼Œå®ƒå­˜å‚¨ JSON æ•°æ®</li><li>æ˜“æ‹“å±•çš„åˆ†å¸ƒå¼æ•°æ®åº“</li><li>æ‹¥æœ‰è‡ªåŠ¨æ•…éšœè½¬ç§»å’Œå¼ºå¤§å®¹é”™èƒ½åŠ›çš„é«˜æ€§èƒ½æ•°æ®åº“</li></ul><h2 id="RethinkDB-X-Python-å¿«é€Ÿå¼€å§‹"><a href="#RethinkDB-X-Python-å¿«é€Ÿå¼€å§‹" class="headerlink" title="RethinkDB X Python å¿«é€Ÿå¼€å§‹"></a>RethinkDB X Python å¿«é€Ÿå¼€å§‹</h2><h3 id="å®‰è£…-RethinkDB"><a href="#å®‰è£…-RethinkDB" class="headerlink" title="å®‰è£… RethinkDB"></a>å®‰è£… RethinkDB</h3><p>macOS å¯ä»¥ä½¿ç”¨ <code>brew install rethinkdb</code> æ¥å¿«é€Ÿå®‰è£… RethinkDBï¼Œå…¶å®ƒçš„ç³»ç»Ÿå¯ä»¥çœ‹å®˜ç½‘çš„æ–‡æ¡£ <a href="https://rethinkdb.com/docs/install/" target="_blank" rel="external">https://rethinkdb.com/docs/install/</a></p><h3 id="å®‰è£…-Python-è¿æ¥-RethinkDB-çš„åº“"><a href="#å®‰è£…-Python-è¿æ¥-RethinkDB-çš„åº“" class="headerlink" title="å®‰è£… Python è¿æ¥ RethinkDB çš„åº“"></a>å®‰è£… Python è¿æ¥ RethinkDB çš„åº“</h3><p>ä½¿ç”¨ pip å°±å¯ä»¥äº† <code>pip install rethinkdb</code></p><h3 id="ä½¿ç”¨-RethinkDB"><a href="#ä½¿ç”¨-RethinkDB" class="headerlink" title="ä½¿ç”¨ RethinkDB"></a>ä½¿ç”¨ RethinkDB</h3><ul><li>é¦–å…ˆå¯åŠ¨ RethinkDB</li></ul><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>rethinkdb</div></pre></td></tr></table></figure><ul><li>åœ¨ python é‡Œé¢å¼•å…¥ RethinkDB çš„åº“å°±å¯ä»¥æ“ä½œå®ƒäº†</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ python</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> rethinkdb <span class="keyword">as</span> r</div></pre></td></tr></table></figure><ul><li>è¿æ¥æ•°æ®åº“</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">r<span class="selector-class">.connect</span>(<span class="string">"localhost"</span>, <span class="number">28015</span>)<span class="selector-class">.repl</span>()</div></pre></td></tr></table></figure><p><em>æ³¨æ„ï¼š<code>repl</code> æ–¹æ³•ä»…é€‚åˆåœ¨ shell é‡Œé¢è°ƒè¯•ä½¿ç”¨ï¼Œå®ƒä¼šç»™ä½ å½“å‰çš„ shell ç¯å¢ƒè®¾ç½®ä¸€ä¸ªé»˜è®¤çš„è¿æ¥ï¼Œä½¿å¾—ä½ ä¸ç”¨æ¯æ¬¡éƒ½ç»™ <code>run</code> æ–¹æ³•ä¼ ä¸€ä¸ª <code>connection</code> å¯¹è±¡è¿›å»ã€‚ä½†æ˜¯ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½ ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä½ æ‰§è¡Œçš„æ¯ä¸ªæŸ¥è¯¢å‘½ä»¤éƒ½å¿…é¡»è¦ç»™ <code>run</code> æ–¹æ³•ä¼ ä¸€ä¸ª <code>connection</code> å¯¹è±¡è¿›å»ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ª<a href="https://github.com/rethinkdb/rethinkdb-example-flask-backbone-todo/blob/master/todo.py" target="_blank" rel="external">ç®€å•çš„ç¤ºä¾‹</a></em></p><ul><li>åˆ›å»ºä¸€å¼ è¡¨</li></ul><p>åœ¨ <code>test</code> æ•°æ®åº“é‡Œåˆ›å»ºä¸€å¼  <code>authors</code> è¡¨</p><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">r<span class="selector-class">.db</span>(<span class="string">"test"</span>)<span class="selector-class">.table_create</span>(<span class="string">"authors"</span>)<span class="selector-class">.run</span>()</div></pre></td></tr></table></figure><p>ä½ åº”è¯¥ä¼šå¾—åˆ°å’Œä¸‹é¢ç±»ä¼¼çš„ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"config_changes"</span>: [</div><div class="line">        &lt;table configuration data&gt;</div><div class="line">    ],</div><div class="line">    <span class="attr">"tables_created"</span>: <span class="number">1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p><em>RethinkDB é»˜è®¤åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>test</code> çš„æ•°æ®åº“ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>r.db_create(db_name)</code> æ¥åˆ›å»ºä¸€ä¸ªæ•°æ®åº“</em></p><h4 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h4><p>ä½¿ç”¨ <code>insert()</code> æ–¹æ³•æ¥æ’å…¥æ•°æ®ï¼Œæ’å…¥çš„æ•°æ®éƒ½æ˜¯ JSON æ ¼å¼çš„</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">r.table(<span class="string">"authors"</span>).<span class="keyword">insert</span>([</div><div class="line">    &#123; <span class="string">"name"</span>: <span class="string">"William Adama"</span>, <span class="string">"tv_show"</span>: <span class="string">"Battlestar Galactica"</span>,</div><div class="line">      <span class="string">"posts"</span>: [</div><div class="line">        &#123;<span class="string">"title"</span>: <span class="string">"Decommissioning speech"</span>, <span class="string">"content"</span>: <span class="string">"The Cylon War is long over..."</span>&#125;,</div><div class="line">        &#123;<span class="string">"title"</span>: <span class="string">"We are at war"</span>, <span class="string">"content"</span>: <span class="string">"Moments ago, this ship received..."</span>&#125;</div><div class="line">      ]</div><div class="line">    &#125;,</div><div class="line">    &#123; <span class="string">"name"</span>: <span class="string">"Laura Roslin"</span>, <span class="string">"tv_show"</span>: <span class="string">"Battlestar Galactica"</span>,</div><div class="line">      <span class="string">"posts"</span>: [</div><div class="line">        &#123;<span class="string">"title"</span>: <span class="string">"The oath of office"</span>, <span class="string">"content"</span>: <span class="string">"I, Laura Roslin, ..."</span>&#125;,</div><div class="line">        &#123;<span class="string">"title"</span>: <span class="string">"They look like us"</span>, <span class="string">"content"</span>: <span class="string">"The Cylons have the ability..."</span>&#125;</div><div class="line">      ]</div><div class="line">    &#125;</div><div class="line">]).run()</div></pre></td></tr></table></figure><p><em>æ³¨æ„ï¼šå› ä¸ºæˆ‘ä»¬ä¸Šé¢è¿æ¥æ—¶ä½¿ç”¨äº† <code>repl</code> æ–¹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œçš„ <code>run</code> ä¸ç”¨ä¼ ä¸€ä¸ª <code>connection</code> å¯¹è±¡è¿›å»ã€‚ä½†æ˜¯ç”Ÿäº§ç¯å¢ƒé‡Œé¢ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä¸‹é¢æ˜¯ç”Ÿäº§ç¯å¢ƒåº”è¯¥ä½¿ç”¨çš„æ–¹æ³•çš„ä¸€ä¸ªç¤ºä¾‹</em></p><figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attr">rdb_conn</span> = r.connect(<span class="attr">host=RDB_HOST,</span> <span class="attr">port=RDB_PORT,</span> <span class="attr">db=DB)</span></div><div class="line"></div><div class="line">r.table(<span class="string">"authors"</span>).insert(â€¦â€¦).run(rdb_conn)</div></pre></td></tr></table></figure><h4 id="æ•°æ®æŸ¥è¯¢"><a href="#æ•°æ®æŸ¥è¯¢" class="headerlink" title="æ•°æ®æŸ¥è¯¢"></a>æ•°æ®æŸ¥è¯¢</h4><ul><li>æŸ¥è¯¢æ‰€æœ‰æ•°æ®</li></ul><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cursor = r.table(<span class="string">"authors"</span>).run()</div><div class="line"><span class="keyword">for</span> <span class="built_in">document</span> <span class="keyword">in</span> cursor:</div><div class="line">    <span class="built_in">print</span>(<span class="built_in">document</span>)</div></pre></td></tr></table></figure><p>è¿™ä¸ªæ“ä½œä¼šè¿”å› <code>authors</code> è¡¨é‡Œé¢çš„æ‰€æœ‰æ•°æ®ï¼Œæ¯æ¡æ•°æ®éƒ½ä¼šé™„å¸¦å®ƒçš„ <code>id</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="string">u'name'</span>: <span class="string">u'hello'</span>, <span class="string">u'id'</span>: <span class="string">u'6ca50999-75eb-4af4-b9b0-bbac478dc884'</span>&#125;</div></pre></td></tr></table></figure><ul><li>æ¡ä»¶æŸ¥è¯¢</li></ul><p>ä¸‹é¢çš„æ“ä½œä¼šè¿”å› <code>name</code> æ˜¯ <code>William Adama</code> çš„æ•°æ®</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cursor = r.table(<span class="string">"authors"</span>).filter(r.row[<span class="string">"name"</span>] == <span class="string">"William Adama"</span>).run()</div><div class="line"><span class="keyword">for</span> <span class="built_in">document</span> <span class="keyword">in</span> cursor:</div><div class="line">    <span class="built_in">print</span>(<span class="built_in">document</span>)</div></pre></td></tr></table></figure><p>ä¸‹é¢çš„æ“ä½œä¼šè¿”å›æ•°æ®é‡Œé¢ <code>posts</code> å¤§äº 2 æ¡è®°å½•çš„æ•°æ®</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cursor = r.<span class="keyword">table</span>(<span class="string">"authors"</span>).filter(r.row[<span class="string">"posts"</span>].<span class="keyword">count</span>() &gt; 2).<span class="keyword">run</span>()</div><div class="line"><span class="keyword">for</span> document <span class="keyword">in</span> cursor:</div><div class="line">    <span class="keyword">print</span>(document)</div></pre></td></tr></table></figure><ul><li>æŸ¥è¯¢å•æ¡è®°å½•</li></ul><p>æŸ¥è¯¢ <code>id</code> ä¸º <code>7644aaf2-9928-4231-aa68-4e65e31bf219</code> çš„æ•°æ®</p><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">r<span class="selector-class">.db</span>(<span class="string">'test'</span>)<span class="selector-class">.table</span>(<span class="string">'authors'</span>)<span class="selector-class">.get</span>(<span class="string">'7644aaf2-9928-4231-aa68-4e65e31bf219'</span>)<span class="selector-class">.run</span>()</div></pre></td></tr></table></figure><h4 id="å®æ—¶æ•°æ®"><a href="#å®æ—¶æ•°æ®" class="headerlink" title="å®æ—¶æ•°æ®"></a>å®æ—¶æ•°æ®</h4><p>ä½¿ç”¨ <code>changes()</code> æ–¹æ³•æ¥ç›‘å¬æ•°æ®çš„å˜åŒ–</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cursor = r.table(<span class="string">"authors"</span>).changes().run()</div><div class="line"><span class="keyword">for</span> <span class="built_in">document</span> <span class="keyword">in</span> cursor:</div><div class="line">    <span class="built_in">print</span>(<span class="built_in">document</span>)</div></pre></td></tr></table></figure><h4 id="æ›´æ–°æ•°æ®"><a href="#æ›´æ–°æ•°æ®" class="headerlink" title="æ›´æ–°æ•°æ®"></a>æ›´æ–°æ•°æ®</h4><p>ä½¿ç”¨ <code>update()</code> æ–¹æ³•æ¥åˆ é™¤æ•°æ®</p><p>æ›´æ–°æ‰€æœ‰æ•°æ®</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">r.<span class="keyword">table</span>(<span class="string">"authors"</span>).<span class="keyword">update</span>(&#123;<span class="string">"type"</span>: <span class="string">"fictional"</span>&#125;).<span class="keyword">run</span>()</div></pre></td></tr></table></figure><p>ç»“åˆ <code>filter</code> æ›´æ–°æŒ‡å®šæ•°æ®</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">r.table(<span class="string">"authors"</span>).</div><div class="line">    filter(r.row[<span class="string">'name'</span>] == <span class="string">"William Adama"</span>).</div><div class="line">    update(&#123;<span class="string">"rank"</span>: <span class="string">"Admiral"</span>&#125;).run()</div></pre></td></tr></table></figure><p>æ›´æ–°æ•°ç»„çš„æ•°æ®</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">r.table(<span class="string">'authors'</span>).filter(r.row[<span class="string">"name"</span>] == <span class="string">"Jean-Luc Picard"</span>).</div><div class="line">    update(&#123;<span class="string">"posts"</span>: r.row[<span class="string">"posts"</span>].append(&#123;</div><div class="line">        <span class="string">"title"</span>: <span class="string">"Shakespeare"</span>,</div><div class="line">        <span class="string">"content"</span>: <span class="string">"What a piece of work is man..."</span>&#125;)</div><div class="line">    &#125;).run()</div></pre></td></tr></table></figure><h4 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h4><p>ä½¿ç”¨ <code>delete()</code> æ–¹æ³•æ¥åˆ é™¤æ•°æ®</p><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">r<span class="selector-class">.table</span>(<span class="string">"authors"</span>).</div><div class="line">    <span class="selector-tag">filter</span>( r.row[<span class="string">"posts"</span>].count() &lt; <span class="number">3</span> ).</div><div class="line">    <span class="selector-tag">delete</span>()<span class="selector-class">.run</span>()</div></pre></td></tr></table></figure><h2 id="RethinkDB-é©±åŠ¨"><a href="#RethinkDB-é©±åŠ¨" class="headerlink" title="RethinkDB é©±åŠ¨"></a>RethinkDB é©±åŠ¨</h2><p>RethinkDB å®˜æ–¹æä¾›äº†å¯¹ JavaScript, Python, Ruby, Java å››ç§è¯­è¨€çš„æ”¯æŒï¼Œè¿˜æœ‰å¾ˆå¤šç¤¾åŒºè´¡çŒ®çš„ç¬¬ä¸‰æ–¹çš„å¯¹å…¶å®ƒè¯­è¨€çš„æ”¯æŒï¼Œä½ å¯ä»¥åœ¨ä¸‹é¢çš„è¿™ä¸ªç½‘å€é‡Œé¢æ‰¾åˆ°<br><a href="https://rethinkdb.com/docs/install-drivers/" target="_blank" rel="external">https://rethinkdb.com/docs/install-drivers/</a></p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://rethinkdb.com" target="_blank" rel="external">RethinkDB: the open-source database for the realtime web</a></li><li><a href="https://rethinkdb.com/docs/" target="_blank" rel="external">RethinkDB Documentation</a></li><li><a href="https://github.com/rethinkdb/rethinkdb" target="_blank" rel="external">https://github.com/rethinkdb/rethinkdb</a></li></ul><p><img src="http://img.l.jifangcheng.com/rethinkdb-2.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;RethinkDB æ˜¯ä¸€ä¸ªä¸ºæ„å»ºå®æ—¶åº”ç”¨ç¨‹åºè€Œç”Ÿçš„å¼€æºæ•°æ®åº“ï¼Œå®ƒå¯ä»¥å®æ—¶åœ°å‘ä½ çš„åº”ç”¨ç¨‹åºæ¨é€æ•°æ®&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.l.jifangcheng.com/rethinkdb-1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>æè‡´ç®€æ´ Markdown</title>
    <link href="http://blog.whatslife.cn/posts/Extreme-simplicity-Markdown/"/>
    <id>http://blog.whatslife.cn/posts/Extreme-simplicity-Markdown/</id>
    <published>2016-07-28T09:23:37.000Z</published>
    <updated>2017-06-13T03:37:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„ XHTML/HTML æ–‡æ¡£</p><a id="more"></a><h2 id="ä»€ä¹ˆæ˜¯-Markdown"><a href="#ä»€ä¹ˆæ˜¯-Markdown" class="headerlink" title="ä»€ä¹ˆæ˜¯ Markdown"></a>ä»€ä¹ˆæ˜¯ Markdown</h2><p><img src="http://img.l.jifangcheng.com/markdown-1.png" alt="Markdown"></p><h3 id="å®—æ—¨"><a href="#å®—æ—¨" class="headerlink" title="å®—æ—¨"></a>å®—æ—¨</h3><p>Markdown çš„ç›®æ ‡æ˜¯å®ç°ã€Œæ˜“è¯»æ˜“å†™ã€ã€‚</p><p>Markdown çš„è¯­æ³•å…¨ç”±ä¸€äº›ç¬¦å·æ‰€ç»„æˆï¼Œè¿™äº›ç¬¦å·ç»è¿‡ç²¾æŒ‘ç»†é€‰ï¼Œå…¶ä½œç”¨ä¸€ç›®äº†ç„¶ã€‚æ¯”å¦‚ï¼šåœ¨æ–‡å­—ä¸¤æ—åŠ ä¸Šæ˜Ÿå·ï¼Œçœ‹èµ·æ¥å°±åƒå¼ºè°ƒã€‚Markdown çš„åˆ—è¡¨çœ‹èµ·æ¥ï¼Œå—¯ï¼Œå°±æ˜¯åˆ—è¡¨ã€‚Markdown çš„åŒºå—å¼•ç”¨çœ‹èµ·æ¥å°±çœŸçš„åƒæ˜¯å¼•ç”¨ä¸€æ®µæ–‡å­—ï¼Œå°±åƒä½ æ›¾åœ¨ç”µå­é‚®ä»¶ä¸­è§è¿‡çš„é‚£æ ·ã€‚</p><h3 id="Markdown-å’Œ-HTML"><a href="#Markdown-å’Œ-HTML" class="headerlink" title="Markdown å’Œ HTML"></a>Markdown å’Œ HTML</h3><ul><li>Markdown ä¸æ˜¯æƒ³è¦å–ä»£ HTMLï¼Œç”šè‡³ä¹Ÿæ²¡æœ‰è¦å’Œå®ƒç›¸è¿‘ï¼Œå®ƒçš„è¯­æ³•ç§ç±»å¾ˆå°‘ï¼Œåªå¯¹åº” HTML æ ‡è®°çš„ä¸€å°éƒ¨åˆ†ã€‚</li><li>Markdown çš„æ ¼å¼è¯­æ³•åªæ¶µç›–çº¯æ–‡æœ¬å¯ä»¥æ¶µç›–çš„èŒƒå›´ã€‚</li><li>Markdown çš„æ„æƒ³ä¸æ˜¯è¦ä½¿å¾— HTML æ–‡æ¡£æ›´å®¹æ˜“ä¹¦å†™ï¼Œå®ƒçš„ç†å¿µæ˜¯ï¼Œèƒ½è®©æ–‡æ¡£æ›´å®¹æ˜“è¯»ã€å†™å’Œæ”¹ã€‚</li><li>HTML æ˜¯ä¸€ç§å‘å¸ƒçš„æ ¼å¼ï¼ŒMarkdown æ˜¯ä¸€ç§ä¹¦å†™çš„æ ¼å¼ã€‚</li></ul><h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨-Markdown"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨-Markdown" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ Markdown"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ Markdown</h2><ul><li>çº¯æ–‡æœ¬ï¼Œæ‰€ä»¥å…¼å®¹æ€§æå¼ºï¼Œå¯ä»¥ç”¨æ‰€æœ‰æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€</li><li>ä¸“æ³¨å†™ä½œï¼Œè€Œä¸æ˜¯å…³æ³¨æ’ç‰ˆ</li><li>æ ¼å¼è½¬æ¢æ–¹ä¾¿ï¼ŒMarkdown çš„æ–‡æœ¬å¯ä»¥è½»æ¾è½¬æ¢ä¸º htmlã€PDFç­‰</li><li>Markdown çš„æ ‡è®°è¯­æ³•æœ‰æå¥½çš„å¯è¯»æ€§</li></ul><h2 id="Markdown-è¯­æ³•ç®€ä»‹"><a href="#Markdown-è¯­æ³•ç®€ä»‹" class="headerlink" title="Markdown è¯­æ³•ç®€ä»‹"></a>Markdown è¯­æ³•ç®€ä»‹</h2><h3 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜ #"></a>æ ‡é¢˜ <code>#</code></h3><p>ä»¥ <code>#</code> å¼€å§‹ï¼Œä¸€ä¸ª <code>#</code> å¯¹åº”ä¸€çº§æ ‡é¢˜ï¼Œæœ€å¤šå¯ä»¥æœ‰ 6 çº§æ ‡é¢˜</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#       ä¸€çº§æ ‡é¢˜ H1</span></div><div class="line"><span class="meta">##      äºŒçº§æ ‡é¢˜ H2</span></div><div class="line"><span class="meta">###     ä¸‰çº§æ ‡é¢˜ H3</span></div><div class="line"><span class="meta">####    å››çº§æ ‡é¢˜ H4</span></div><div class="line"><span class="meta">#####   äº”çº§æ ‡é¢˜ H5</span></div><div class="line"><span class="meta">######  å…­çº§æ ‡é¢˜ H6</span></div></pre></td></tr></table></figure><h3 id="å¼ºè°ƒ"><a href="#å¼ºè°ƒ" class="headerlink" title="å¼ºè°ƒ *"></a>å¼ºè°ƒ <code>*</code></h3><p>ç”¨ <code>*</code> åŒ…è£¹æ–‡å­—è¡¨ç¤ºå¼ºè°ƒï¼Œä¸€å­— <code>*</code> åŒ…è£¹çš„è¡¨ç¤ºæ–œä½“ï¼Œä¸¤ä¸ªè¡¨ç¤ºç²—ä½“</p><p><img src="http://img.l.jifangcheng.com/markdown-6.png" alt="Markdown"></p><h3 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨ *"></a>åˆ—è¡¨ <code>*</code></h3><p>å•ä¸ª <code>*</code> è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ— åºåˆ—è¡¨ï¼Œç”¨æ•°å­—è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæœ‰åºåˆ—è¡¨</p><p><img src="http://img.l.jifangcheng.com/markdown-5.png" alt="Markdown"></p><h3 id="å¼•ç”¨-gt"><a href="#å¼•ç”¨-gt" class="headerlink" title="å¼•ç”¨ &gt;"></a>å¼•ç”¨ <code>&gt;</code></h3><p>ä½¿ç”¨ <code>&gt;</code> è¡¨ç¤ºè¿™æ®µæ–‡å­—æ˜¯ä¸€ä¸ªå¼•ç”¨</p><p><img src="http://img.l.jifangcheng.com/markdown-7.png" alt="Markdown"></p><h3 id="é“¾æ¥å’Œå›¾ç‰‡"><a href="#é“¾æ¥å’Œå›¾ç‰‡" class="headerlink" title="é“¾æ¥å’Œå›¾ç‰‡"></a>é“¾æ¥å’Œå›¾ç‰‡</h3><p>é“¾æ¥çš„æ ¼å¼ï¼š<code>[é“¾æ¥å†…å®¹](é“¾æ¥åœ°å€)</code><br>å›¾ç‰‡çš„æ ¼å¼å’Œé“¾æ¥ç±»ä¼¼ï¼Œåªä¸è¿‡åœ¨å‰ç«¯åŠ ä¸€ä¸ª <code>!</code>ï¼š<code>![å›¾ç‰‡æè¿°](å›¾ç‰‡åœ°å€)</code></p><p><img src="http://img.l.jifangcheng.com/markdown-8.png" alt="Markdown"></p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ä½¿ç”¨ ` ` è¡¨ç¤ºè¡Œå†…ä»£ç ï¼Œ``` è¡¨ç¤ºå¤šè¡Œä»£ç </p><p><img src="http://img.l.jifangcheng.com/markdown-9.png" alt="Markdown"></p><h2 id="GitHub-Flavored-Markdown"><a href="#GitHub-Flavored-Markdown" class="headerlink" title=" GitHub Flavored Markdown"></a><i class="fa fa-github" aria-hidden="true"></i> GitHub Flavored Markdown</h2><p>GitHub Flavored Markdown æ˜¯ GitHub ä½¿ç”¨çš„ Markdown æ ¼å¼ï¼Œå¯¹ Markdown å¢åŠ äº†ä¸€äº›æ–°åŠŸèƒ½</p><h3 id="ä»£ç é«˜äº®"><a href="#ä»£ç é«˜äº®" class="headerlink" title="ä»£ç é«˜äº®"></a>ä»£ç é«˜äº®</h3><p>``` åé¢åŠ ä¸Šç¼–ç¨‹è¯­è¨€å¯ä»¥è®©ä»£ç æŒ‰ç…§ä½ æŒ‡å®šçš„è¯­è¨€è¿›è¡Œé«˜äº®</p><pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fancyAlert</span>(<span class="params">arg</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span>(arg) &#123;</div><div class="line">    $.facebox(&#123;div:<span class="string">'#foo'</span>&#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></pre><h3 id="ä»»åŠ¡åˆ—è¡¨"><a href="#ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="ä»»åŠ¡åˆ—è¡¨"></a>ä»»åŠ¡åˆ—è¡¨</h3><p>ä¸‹é¢çš„çš„è¿™ç§æ ¼å¼ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ªä»»åŠ¡åˆ—è¡¨</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">- </span>[<span class="string">x</span>] @mentions, #refs, [<span class="string">links</span>](<span class="link"></span>), <span class="strong">**formatting**</span>, and <span class="xml"><span class="tag">&lt;<span class="name">del</span>&gt;</span></span>tags<span class="xml"><span class="tag">&lt;/<span class="name">del</span>&gt;</span></span> supported</div><div class="line"><span class="bullet">- </span>[x] list syntax required (any unordered or ordered list supported)</div><div class="line"><span class="bullet">- </span>[x] this is a complete item</div><div class="line"><span class="bullet">- </span>[ ] this is an incomplete item</div></pre></td></tr></table></figure><p><img src="http://img.l.jifangcheng.com/markdown-3.png" alt="Markdown"></p><h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><p>ä¸‹é¢çš„è¿™ç§æ ¼å¼ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ªè¡¨æ ¼</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">First Header | Second Header</div><div class="line"><span class="comment">------------ | -------------</span></div><div class="line">Content <span class="built_in">from</span> cell <span class="number">1</span> | Content <span class="built_in">from</span> cell <span class="number">2</span></div><div class="line">Content <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">first</span> column | Content <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">second</span> column</div></pre></td></tr></table></figure><p><img src="http://img.l.jifangcheng.com/markdown-4.png" alt="Markdown"></p><h3 id="å¼•ç”¨-SHA-å€¼"><a href="#å¼•ç”¨-SHA-å€¼" class="headerlink" title="å¼•ç”¨ SHA å€¼"></a>å¼•ç”¨ SHA å€¼</h3><p>å¯¹ä»»ä½• commit çš„ SHA å€¼çš„å¼•ç”¨éƒ½ä¼šè‡ªåŠ¨è½¬æ¢æˆè¿™ä¸ª commit çš„é“¾æ¥</p><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">16c999e8c71134401a78d4d46435517b2271d6ac</div><div class="line">mojombo<span class="variable">@16c999e8c71134401a78d4d46435517b2271d6ac</span></div><div class="line">mojombo/github-flavored-markdown<span class="variable">@16c999e8c71134401a78d4d46435517b2271d6ac</span></div></pre></td></tr></table></figure><h3 id="å¼•ç”¨-Issue"><a href="#å¼•ç”¨-Issue" class="headerlink" title="å¼•ç”¨ Issue"></a>å¼•ç”¨ Issue</h3><p>ä½ å¯ä»¥ç›´æ¥å¼•ç”¨ä¸€ä¸ª Issue æˆ–è€… Pull Request çš„ç¼–å·ï¼Œå®ƒä»¬ä¼šè¢«è‡ªåŠ¨çš„è½¬æ¢æˆé“¾æ¥</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#1</span></div><div class="line">mojombo<span class="comment">#1</span></div><div class="line">mojombo/github-flavored-markdown<span class="comment">#1</span></div></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title="@"></a>@</h3><p>ä½¿ç”¨ <code>@</code> ç¬¦å·æ¥æé†’ä¸€ä¸ªäººæŸ¥çœ‹è¿™ä¸ªæ¶ˆæ¯</p><h3 id="URL-åœ°å€è‡ªåŠ¨é“¾æ¥"><a href="#URL-åœ°å€è‡ªåŠ¨é“¾æ¥" class="headerlink" title="URL åœ°å€è‡ªåŠ¨é“¾æ¥"></a>URL åœ°å€è‡ªåŠ¨é“¾æ¥</h3><p>ä»»ä½•çš„é“¾æ¥ï¼ˆæ¯”å¦‚ <code>http://www.github.com/</code>ï¼‰éƒ½ä¼šè‡ªåŠ¨è½¬æ¢æˆå¯ä»¥ç‚¹å‡»çš„é“¾æ¥</p><h3 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h3><p>ä½¿ç”¨ <code>~~è¿™ä¸ª~~</code> è¡¨ç¤ºåˆ é™¤çº¿ï¼Œä¼šå‘ˆç°å‡º <del>è¿™æ ·</del> çš„æ•ˆæœ</p><h3 id="Emoji"><a href="#Emoji" class="headerlink" title="Emoji"></a>Emoji</h3><p><i class="fa fa-github" aria-hidden="true"></i> GitHub å½“ç„¶ä¹Ÿæ”¯æŒ ğŸ¶ Emoji</p><h2 id="ä¸€äº›æœ‰ç”¨çš„é“¾æ¥"><a href="#ä¸€äº›æœ‰ç”¨çš„é“¾æ¥" class="headerlink" title="ä¸€äº›æœ‰ç”¨çš„é“¾æ¥"></a>ä¸€äº›æœ‰ç”¨çš„é“¾æ¥</h2><ul><li>Markdown é¡¹ç›®ä¸»é¡µï¼š<a href="https://daringfireball.net/projects/markdown/" target="_blank" rel="external">https://daringfireball.net/projects/markdown/</a></li><li><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" rel="external">Mastering Markdown Â· GitHub Guides</a></li><li><a href="http://wowubuntu.com/markdown/" target="_blank" rel="external">Markdown è¯­æ³•è¯´æ˜(ç®€ä½“ä¸­æ–‡ç‰ˆ)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„ XHTML/HTML æ–‡æ¡£&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Atom - The hackable text editor</title>
    <link href="http://blog.whatslife.cn/posts/Atom-The-hackable-text-editor/"/>
    <id>http://blog.whatslife.cn/posts/Atom-The-hackable-text-editor/</id>
    <published>2016-07-27T09:11:03.000Z</published>
    <updated>2018-04-05T10:22:34.595Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/atom/atom" target="_blank" rel="external">Atom</a> èµ·åˆæ˜¯ä¸€ä¸ª GitHub å†…éƒ¨çš„å°é¡¹ç›®ï¼Œåæ¥å‘å±•å£®å¤§æˆä¸ºä¸€ä¸ªæ­£å¼çš„å¼€æºé¡¹ç›®ã€‚Atom åŸºäº <a href="https://github.com/electron/electron" target="_blank" rel="external">Electron</a>ï¼ˆElectron æ˜¯ä¸€ä¸ªå¯ä»¥è®©ä½ ç”¨ JavaScript, HTML å’Œ CSS æ¥å†™è·¨å¹³å°æ¡Œé¢åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼‰ï¼ŒAtom æ˜¯ç”¨ <a href="http://coffeescript.org" target="_blank" rel="external">CoffeeScript</a> å†™çš„ï¼Œç›¸å½“äºä¸€ä¸ª Web Appï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºè¿™æ ·ï¼Œå…¶å¯å®šåˆ¶ç¨‹åº¦éå¸¸é«˜ã€‚</p><p>å¦‚æœä½ ä»¥å‰ç”¨è¿‡ Sublime Textï¼Œä½ ä¼šå‘ç° Atom å’Œ Sublime éå¸¸åƒï¼Œè¿å¿«æ·é”®éƒ½åŸºæœ¬ä¸€æ ·ï¼Œä½†æ˜¯å®ƒä»¬çœŸçš„æ²¡æœ‰å…³ç³»ã€‚</p><h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨-Atom"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨-Atom" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ Atom"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ Atom</h2><h3 id="å¼€æº"><a href="#å¼€æº" class="headerlink" title="å¼€æº"></a>å¼€æº</h3><p>GitHub å¼€æºäº† <a href="https://github.com/atom/atom" target="_blank" rel="external">Atom</a> å’Œæ„å»ºå®ƒçš„å†…æ ¸ <a href="https://github.com/electron/electron" target="_blank" rel="external">Electron</a>ï¼Œå¼€æºä¸¤å¹´ä»¥æ¥æ‰€å–å¾—çš„æˆç»©éå¸¸è€€çœ¼ï¼š</p><ul><li>110 ä¸‡æœˆåº¦æ´»è·ƒç”¨æˆ·</li><li>1590 ä¸‡æ¬¡ä¸‹è½½</li><li>300 ä¸ªæ–°ç‰ˆæœ¬å‘å¸ƒ</li><li>è¶…è¿‡ 1144 ä½è´¡çŒ®è€…</li><li>6.2 ä¸‡æ¬¡ä»£ç æäº¤</li><li>5897 ä¸ª Pull Request</li><li>920 ä¸‡æ¬¡çš„æœˆåº¦è®¿é—®é‡</li><li>GitHub ä¸Šæ¥è¿‘ 3 ä¸‡ä¸ª Star</li><li>Atom ç¤¾åŒºä¹Ÿå¿«é€Ÿå‘å±•</li></ul><p><img src="http://img.l.jifangcheng.com/atom-2.png" alt="Atom"></p><a id="more"></a><h3 id="è·¨å¹³å°"><a href="#è·¨å¹³å°" class="headerlink" title="è·¨å¹³å°"></a>è·¨å¹³å°</h3><p>ä½ å¯ä»¥åœ¨ macOSï¼ŒWindows ä»¥åŠå„ç§ Linux å‘è¡Œç‰ˆæœ¬ä¸Šä½¿ç”¨ Atom</p><h3 id="apm-Atom-Package-Manager"><a href="#apm-Atom-Package-Manager" class="headerlink" title="apm: Atom Package Manager"></a>apm: Atom Package Manager</h3><p>apm æ˜¯ Atom å®˜æ–¹çš„å†…å»ºçš„åŒ…ç®¡ç†å™¨ï¼Œä½ å¯ä»¥åœ¨ <a href="https://atom.io/packages" target="_blank" rel="external">https://atom.io/packages</a> æŸ¥çœ‹æ‰€æœ‰çš„ Atom æ‰©å±•ï¼ˆæ’ä»¶ï¼Œä¸»é¢˜ï¼‰</p><p>ä½ å¯ä»¥åœ¨ Atom çš„åå¥½è®¾ç½®é‡Œé¢æ·»åŠ ã€æ›´æ–°ã€åˆ é™¤å’Œç®¡ç† Atom çš„æ‰©å±•</p><p>apm è¿˜æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>apm install xx</code> æ¥ä¸º Atom å®‰è£…æ‰©å±•ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>apm --help</code> æ¥æŸ¥çœ‹ apm æ”¯æŒçš„æ‰€æœ‰å‘½ä»¤</p><p>å…³äº apm çš„æ›´å¤šæ–‡æ¡£ä½ å¯ä»¥å» <a href="https://github.com/atom/apm" target="_blank" rel="external">https://github.com/atom/apm</a> çœ‹çœ‹</p><h3 id="æ¼‚äº®çš„ç•Œé¢"><a href="#æ¼‚äº®çš„ç•Œé¢" class="headerlink" title="æ¼‚äº®çš„ç•Œé¢"></a>æ¼‚äº®çš„ç•Œé¢</h3><p>ä½ å¯ä»¥ä½¿ç”¨ Atom å®˜æ–¹æä¾›çš„ä¸»é¢˜å’Œç¤¾åŒºè´¡çŒ®çš„ä¸»é¢˜æ¥ç¾åŒ–ä½ çš„ Atomï¼Œå¦‚æœä½ è¿˜ä¸å–œæ¬¢ï¼Œä½ ç”šè‡³å¯ä»¥è‡ªå·±æ¥è‡ªå®šä¹‰ä½ çš„ Atom ç•Œé¢</p><p><img src="http://img.l.jifangcheng.com/atom-5.png" alt=""><br><img src="http://img.l.jifangcheng.com/atom-6.png" alt=""><br><img src="http://img.l.jifangcheng.com/atom-7.png" alt=""><br><img src="http://img.l.jifangcheng.com/atom-8.png" alt=""><br><img src="http://img.l.jifangcheng.com/atom-9.png" alt=""><br><img src="http://img.l.jifangcheng.com/atom-10.png" alt=""><br><img src="http://img.l.jifangcheng.com/atom-11.png" alt=""></p><h3 id="The-hackable-text-editor"><a href="#The-hackable-text-editor" class="headerlink" title="The hackable text editor"></a>The hackable text editor</h3><h4 id="æ›´æ™ºèƒ½çš„è‡ªåŠ¨è¡¥å…¨"><a href="#æ›´æ™ºèƒ½çš„è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="æ›´æ™ºèƒ½çš„è‡ªåŠ¨è¡¥å…¨"></a>æ›´æ™ºèƒ½çš„è‡ªåŠ¨è¡¥å…¨</h4><p>ä¸ä»…ä»…æ˜¯è¯­è¨€å…³é”®å­—çš„è¡¥å…¨ï¼Œè¿˜å¯ä»¥è¡¥å…¨è·¯å¾„ï¼Œä½¿ç”¨è¿‡çš„åŒ…åï¼Œå‡½æ•°ï¼Œå˜é‡åç­‰ç­‰</p><p><img src="http://img.l.jifangcheng.com/atom-3.png" alt=""></p><h4 id="å¤šè¡Œç¼–è¾‘"><a href="#å¤šè¡Œç¼–è¾‘" class="headerlink" title="å¤šè¡Œç¼–è¾‘"></a>å¤šè¡Œç¼–è¾‘</h4><p>ç±»ä¼¼äº Sublimeï¼ŒAtom ä¹Ÿæ”¯æŒå¤šè¡Œç¼–è¾‘ï¼Œå®ƒå…è®¸ä½ åŒæ—¶ç¼–è¾‘å¤šè¡Œæ–‡æœ¬ã€‚æ¯”å¦‚è¯´ä½ éœ€è¦æŠŠä¸€ä¸ªæ–‡æ¡£é‡Œé¢çš„ <code>(&#39;some text&#39;)</code> æ›¿æ¢ä¸º <code>(&quot;some text&quot;)</code>ï¼Œå¤šè¡Œç¼–è¾‘å°±æ´¾ä¸Šç”¨åœºäº†ï¼Œé€‰ä¸­å…³é”®è¯åä½¿ç”¨ ctrl/cmd + d é€‰æ‹©ä¸‹ä¸€ä¸ªè¿™ä¸ªè¯ï¼Œä½¿ç”¨ ctrl/cmd + k å¯ä»¥è·³è¿‡æŸä¸ªå…³é”®è¯ï¼Œå…¨éƒ¨é€‰ä¸­å…³é”®è¯åå°±å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œç¼–è¾‘äº†</p><p><img src="http://img.l.jifangcheng.com/atom-4.png" alt=""></p><h4 id="å¤šçª—å£"><a href="#å¤šçª—å£" class="headerlink" title="å¤šçª—å£"></a>å¤šçª—å£</h4><p>ä½ å¯ä»¥åœ¨å¤šçª—å£ä¸­ç¼–è¾‘ä¸åŒçš„æ–‡ä»¶</p><p><img src="http://img.l.jifangcheng.com/atom-13.png" alt=""></p><p>ä¹Ÿå¯ä»¥åœ¨å¤šçª—å£ä¸­ç¼–è¾‘ç›¸åŒçš„æ–‡ä»¶</p><p><img src="http://img.l.jifangcheng.com/atom-14.png" alt=""></p><h4 id="VIM-æ¨¡å¼"><a href="#VIM-æ¨¡å¼" class="headerlink" title="VIM æ¨¡å¼"></a>VIM æ¨¡å¼</h4><p>Atom å®˜æ–¹æä¾›äº†å¯¹ VIM ç¼–è¾‘æ¨¡å¼çš„æ”¯æŒ</p><p><img src="http://img.l.jifangcheng.com/atom-12.png" alt=""></p><p>ä½ å¯ä»¥åœ¨ Atom ä¸­ä½¿ç”¨ VIM çš„åŸºæœ¬åŠŸèƒ½ï¼ˆæ²¡æœ‰æ’ä»¶çš„ VIMï¼‰</p><h4 id="ä»£ç ç‰‡æ®µ"><a href="#ä»£ç ç‰‡æ®µ" class="headerlink" title="ä»£ç ç‰‡æ®µ"></a>ä»£ç ç‰‡æ®µ</h4><p>ä½ å¯ä»¥åœ¨ä½ çš„ç”¨æˆ·ç›®å½•ä¸‹çš„ <code>.atom/snippets.cson</code> ä¸­å®šä¹‰ä»£ç ç‰‡æ®µï¼Œå®šä¹‰äº†ä»£ç ç‰‡æ®µä¹‹åä½ å°±å¯ä»¥ä½¿ç”¨ä½ å®šä¹‰çš„å¿«æ·å•è¯ + tab é”®æ¥æ’å…¥ä¸€æ®µä»£ç </p><figure class="highlight cson"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># .source.python è¡¨æ˜ä¸‹é¢çš„è¿™äº›ä»£ç ç‰‡æ®µåªèƒ½åœ¨ python æ–‡ä»¶ä¸­ä½¿ç”¨</span></div><div class="line"><span class="string">'.source.python'</span>:</div><div class="line">  <span class="string">'Header'</span>:</div><div class="line">    <span class="string">'prefix'</span>: <span class="string">'head'</span></div><div class="line">    <span class="string">'body'</span>: <span class="string">'''</span></div><div class="line">      #!/usr/bin/env python</div><div class="line">      # coding=utf-8</div><div class="line">    '''</div><div class="line"></div><div class="line">  <span class="string">'ipdb'</span>:</div><div class="line">    <span class="string">'prefix'</span>: <span class="string">'ipdb'</span></div><div class="line">    <span class="string">'body'</span>: <span class="string">"__import__('ipdb').set_trace()"</span></div></pre></td></tr></table></figure><h4 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h4><ul><li>ctrl/cmd + p å¿«é€Ÿåˆ‡æ¢æ–‡ä»¶</li><li>ctrl/cmd + shift + p æ‰“å¼€åŠŸèƒ½é¢æ¿</li><li>ctrl + g å¿«é€Ÿè·³è½¬åˆ°æ–‡ä»¶çš„æŸä¸€è¡Œ</li><li>ctrl/cmd + x åˆ é™¤ä¸€æ•´è¡Œ</li><li>ctrl/cmd + r åœ¨æ–‡ä»¶å†…çš„å‡½æ•°å®šä¹‰é—´è·³è½¬</li></ul><h3 id="Sublime-VS-Atom"><a href="#Sublime-VS-Atom" class="headerlink" title="Sublime VS Atom"></a>Sublime VS Atom</h3><p>æˆ‘ä»¥å‰ä¹Ÿæ˜¯ Sublime çš„ç”¨æˆ·ï¼Œåæ¥è½¬åˆ°äº† Atomï¼Œæˆ‘å¯¹è¿™ä¸¤ä¸ªç¼–è¾‘å™¨éƒ½è¿˜ç®—æ˜¯äº†è§£ï¼Œæ‰€ä»¥æ¥è¯´ä¸€ä¸‹å„è‡ªç›¸æ¯”äºå¯¹æ–¹çš„ä¼˜ç¼ºç‚¹ã€‚</p><p>Sublime çš„ä¼˜ç‚¹</p><ul><li>å¯åŠ¨é€Ÿåº¦å¿«ï¼Œæ›´ç¨³å®š</li></ul><p>Atom çš„ä¼˜ç‚¹</p><ul><li>æ´»è·ƒçš„å¼€æºç¤¾åŒº</li><li>å¼ºå¤§çš„å®˜æ–¹çš„åŒ…ç®¡ç†å™¨</li><li>é«˜åº¦å¯å®šåˆ¶</li><li>æ›´å¥½çš„ VIM æ¨¡å¼ï¼ˆSublime 3 çš„ VIM æ¨¡å¼å±…ç„¶è¿˜æœ‰ BUGï¼‰</li></ul><h2 id="ä¸€äº›ä¸è¶³"><a href="#ä¸€äº›ä¸è¶³" class="headerlink" title="ä¸€äº›ä¸è¶³"></a>ä¸€äº›ä¸è¶³</h2><ul><li>å¯åŠ¨é€Ÿåº¦æ…¢</li><li>ç¼–è¾‘å¤§å‹æ–‡ä»¶æ˜¾å¾—æœ‰äº›åƒåŠ›</li></ul><h2 id="ä¸€äº›å¥½ç”¨çš„-Atom-æ’ä»¶"><a href="#ä¸€äº›å¥½ç”¨çš„-Atom-æ’ä»¶" class="headerlink" title="ä¸€äº›å¥½ç”¨çš„ Atom æ’ä»¶"></a>ä¸€äº›å¥½ç”¨çš„ Atom æ’ä»¶</h2><h3 id="é€šç”¨"><a href="#é€šç”¨" class="headerlink" title="é€šç”¨"></a>é€šç”¨</h3><ul><li><a href="https://atom.io/packages/trailing-spaces" target="_blank" rel="external">trailing-spaces</a> - é«˜äº®å¤šä½™çš„ç©ºæ ¼</li><li><a href="https://atom.io/packages/vim-mode" target="_blank" rel="external">vim-mode</a> - vim æ¨¡å¼</li><li><a href="https://atom.io/packages/ex-mode" target="_blank" rel="external">ex-mode</a> - vim æ¨¡å¼çš„æ‹“å±•</li><li><a href="https://atom.io/packages/minimap" target="_blank" rel="external">minimap</a> - å³ä¾§å°åœ°å›¾</li><li><a href="https://atom.io/packages/autocomplete-paths" target="_blank" rel="external">autocomplete-paths</a> - å¯¹è·¯å¾„é€‰æ‹©è¿›è¡Œå¢å¼º</li><li><a href="https://atom.io/packages/atom-beautify" target="_blank" rel="external">atom-beautify</a> - è‡ªåŠ¨ç¾åŒ–ä»£ç æ ¼å¼</li></ul><h3 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h3><ul><li><a href="http://nuclide.io" target="_blank" rel="external">Nuclide</a> - ç”¨äºç¼–å†™ React Native</li><li><a href="https://atom.io/packages/emmet" target="_blank" rel="external">Emmet</a> - å¿«é€Ÿç¼–å†™ HTML</li><li><a href="https://atom.io/packages/tag" target="_blank" rel="external">tag</a> - Sublime é£æ ¼çš„ HTML æ ‡ç­¾è‡ªåŠ¨é—­åˆ</li><li><a href="https://atom.io/packages/color-picker" target="_blank" rel="external">color-picker</a> - CSS é¢œè‰²å–è‰²å™¨</li><li><a href="https://atom.io/packages/autoprefixer" target="_blank" rel="external">autoprefixer</a> - è‡ªåŠ¨è¡¥å…¨ CSS å‰ç¼€</li><li><a href="https://atom.io/packages/linter-jshint" target="_blank" rel="external">linter-jshint</a> - JavaScript è¯­æ³•æ£€æŸ¥</li></ul><h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><ul><li><a href="https://atom.io/packages/autocomplete-python" target="_blank" rel="external">autocomplete-python</a> - å¯¹Pythonæç¤ºè¿›è¡Œå¢å¼º</li><li><a href="https://atom.io/packages/linter-flake8" target="_blank" rel="external">linter-flake8</a> - Python è¯­æ³•æ£€æŸ¥</li><li><a href="https://atom.io/packages/python-tools" target="_blank" rel="external">python-tools</a> - ä¸€äº›æœ‰ç”¨çš„ Python å¼€å‘å·¥å…·é›†</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/atom/atom&quot;&gt;Atom&lt;/a&gt; èµ·åˆæ˜¯ä¸€ä¸ª GitHub å†…éƒ¨çš„å°é¡¹ç›®ï¼Œåæ¥å‘å±•å£®å¤§æˆä¸ºä¸€ä¸ªæ­£å¼çš„å¼€æºé¡¹ç›®ã€‚Atom åŸºäº &lt;a href=&quot;https://github.com/electron/electron&quot;&gt;Electron&lt;/a&gt;ï¼ˆElectron æ˜¯ä¸€ä¸ªå¯ä»¥è®©ä½ ç”¨ JavaScript, HTML å’Œ CSS æ¥å†™è·¨å¹³å°æ¡Œé¢åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼‰ï¼ŒAtom æ˜¯ç”¨ &lt;a href=&quot;http://coffeescript.org&quot;&gt;CoffeeScript&lt;/a&gt; å†™çš„ï¼Œç›¸å½“äºä¸€ä¸ª Web Appï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºè¿™æ ·ï¼Œå…¶å¯å®šåˆ¶ç¨‹åº¦éå¸¸é«˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä»¥å‰ç”¨è¿‡ Sublime Textï¼Œä½ ä¼šå‘ç° Atom å’Œ Sublime éå¸¸åƒï¼Œè¿å¿«æ·é”®éƒ½åŸºæœ¬ä¸€æ ·ï¼Œä½†æ˜¯å®ƒä»¬çœŸçš„æ²¡æœ‰å…³ç³»ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸ºä»€ä¹ˆä½¿ç”¨-Atom&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆä½¿ç”¨-Atom&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆä½¿ç”¨ Atom&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆä½¿ç”¨ Atom&lt;/h2&gt;&lt;h3 id=&quot;å¼€æº&quot;&gt;&lt;a href=&quot;#å¼€æº&quot; class=&quot;headerlink&quot; title=&quot;å¼€æº&quot;&gt;&lt;/a&gt;å¼€æº&lt;/h3&gt;&lt;p&gt;GitHub å¼€æºäº† &lt;a href=&quot;https://github.com/atom/atom&quot;&gt;Atom&lt;/a&gt; å’Œæ„å»ºå®ƒçš„å†…æ ¸ &lt;a href=&quot;https://github.com/electron/electron&quot;&gt;Electron&lt;/a&gt;ï¼Œå¼€æºä¸¤å¹´ä»¥æ¥æ‰€å–å¾—çš„æˆç»©éå¸¸è€€çœ¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;110 ä¸‡æœˆåº¦æ´»è·ƒç”¨æˆ·&lt;/li&gt;
&lt;li&gt;1590 ä¸‡æ¬¡ä¸‹è½½&lt;/li&gt;
&lt;li&gt;300 ä¸ªæ–°ç‰ˆæœ¬å‘å¸ƒ&lt;/li&gt;
&lt;li&gt;è¶…è¿‡ 1144 ä½è´¡çŒ®è€…&lt;/li&gt;
&lt;li&gt;6.2 ä¸‡æ¬¡ä»£ç æäº¤&lt;/li&gt;
&lt;li&gt;5897 ä¸ª Pull Request&lt;/li&gt;
&lt;li&gt;920 ä¸‡æ¬¡çš„æœˆåº¦è®¿é—®é‡&lt;/li&gt;
&lt;li&gt;GitHub ä¸Šæ¥è¿‘ 3 ä¸‡ä¸ª Star&lt;/li&gt;
&lt;li&gt;Atom ç¤¾åŒºä¹Ÿå¿«é€Ÿå‘å±•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://img.l.jifangcheng.com/atom-2.png&quot; alt=&quot;Atom&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://blog.whatslife.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="ç¼–è¾‘å™¨ js" scheme="http://blog.whatslife.cn/tags/%E7%BC%96%E8%BE%91%E5%99%A8-js/"/>
    
  </entry>
  
  <entry>
    <title>npm ç§æœ‰ä»“åº“æ­å»º</title>
    <link href="http://blog.whatslife.cn/posts/build-private-npm-repository-server/"/>
    <id>http://blog.whatslife.cn/posts/build-private-npm-repository-server/</id>
    <published>2016-07-26T05:38:31.000Z</published>
    <updated>2018-03-17T13:13:32.873Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆæ­å»ºç§æœ‰çš„-npm-ä»“åº“"><a href="#ä¸ºä»€ä¹ˆæ­å»ºç§æœ‰çš„-npm-ä»“åº“" class="headerlink" title="ä¸ºä»€ä¹ˆæ­å»ºç§æœ‰çš„ npm ä»“åº“"></a>ä¸ºä»€ä¹ˆæ­å»ºç§æœ‰çš„ npm ä»“åº“</h2><ul><li>å‘å¸ƒå’Œç®¡ç†å…¬å¸å†…éƒ¨çš„ç§æœ‰çš„ã€æš‚ä¸å…¬å¼€çš„ npm åŒ…</li><li>åŠ é€Ÿ npm åŒ…çš„ä¸‹è½½ï¼Œnpm å®˜æ–¹ä»“åº“åœ¨å›½å†…å¤ªæ…¢äº†</li></ul><h2 id="äº†è§£-sinopia"><a href="#äº†è§£-sinopia" class="headerlink" title="äº†è§£ sinopia"></a>äº†è§£ sinopia</h2><p><a href="https://github.com/rlidwka/sinopia" target="_blank" rel="external">https://github.com/rlidwka/sinopia</a><br>sinopia æ˜¯ä¸€ä¸ªç”¨äºæ­å»ºç§æœ‰çš„ npm ä»“åº“çš„è½¯ä»¶ï¼Œæˆ‘ä»¬å°†å€ŸåŠ©å®ƒæ¥æ­å»º npm ç§æœ‰ä»“åº“ã€‚</p><p>sinopia å®‰è£…å’Œä½¿ç”¨éƒ½æå…¶ç®€å•ï¼Œå®ƒè¿˜æœ‰ä»¥ä¸‹çš„ç‰¹æ€§ï¼š</p><ul><li>æ”¯æŒå®‰è£… npm åŒ…ï¼ˆnpm install, npm upgrade, etc.ï¼‰</li><li>æ”¯æŒå‘å¸ƒ npm åŒ…ï¼ˆnpm publishï¼‰</li><li>æ”¯æŒ npm unpublish</li><li>å³å°†æ”¯æŒ npm tag</li><li>ä¸æ”¯æŒ npm deprecate</li><li>æ”¯æŒ npm adduser</li><li>æ”¯æŒåœ¨æµè§ˆå™¨ç«¯æœç´¢ï¼Œä¸æ”¯æŒå‘½ä»¤è¡Œæœç´¢</li><li>ä¸æ”¯æŒ npm star, npm unstarï¼Œå› ä¸ºè¿™å¯¹ç§æœ‰ npm åŒ…æ²¡æœ‰æ„ä¹‰</li><li>sinopia æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“æ¥å­˜å‚¨ï¼Œå®ƒä½¿ç”¨æœ¬åœ°çš„æ–‡ä»¶ç³»ç»Ÿæ¥å­˜å‚¨</li></ul><h2 id="ä½¿ç”¨-sinopia"><a href="#ä½¿ç”¨-sinopia" class="headerlink" title="ä½¿ç”¨ sinopia"></a>ä½¿ç”¨ sinopia</h2><h3 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># å®‰è£…å’Œä½¿ç”¨</div><div class="line">$ npm install -g sinopia</div><div class="line">$ sinopia</div><div class="line"></div><div class="line"># npm é…ç½®ï¼Œä½¿ç”¨ sinopia æ­å»ºçš„ npm ä»“åº“æ¥ä¸‹è½½ npm åŒ…</div><div class="line">$ npm set registry http://localhost:4873/</div></pre></td></tr></table></figure><p>sinopia ç•Œé¢<br><img src="http://img.l.jifangcheng.com/sinopia-1.png" alt="sinopia"></p><a id="more"></a><p>æœåŠ¡å™¨æ­å»ºå®Œæˆä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>http://localhost:4873/</code> ä½œä¸ºä»“åº“åœ°å€æ¥ä¸‹è½½å’Œå‘å¸ƒ npm åŒ…äº†ã€‚</p><p>å½“ä½ ä½¿ç”¨ <code>npm install xx</code> åï¼Œsinopia ä¼šæ£€æŸ¥æœ¬åœ°æœ‰æ²¡æœ‰ xx è¿™ä¸ªåŒ…ï¼Œå¦‚æœæœ‰ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°çš„ç¼“å­˜ï¼›å¦‚æœæ²¡æœ‰ï¼Œå®ƒä¼šä» npm å®˜æ–¹ä»“åº“ä¸‹è½½è¿™ä¸ªåŒ…ï¼Œå¹¶å°†è¿™ä¸ªåŒ…ç¼“å­˜åœ¨æœ¬åœ°ä»¥ä¾¿äºŒæ¬¡ä¸‹è½½ã€‚sinopia å¹¶ä¸ä¼šåŒæ­¥ npm å®˜æ–¹ä»“åº“çš„æ‰€æœ‰å†…å®¹ï¼Œå®ƒåªä¼šç¼“å­˜ä½ ä½¿ç”¨ <code>npm install</code> ä¸‹è½½è¿‡çš„å†…å®¹ã€‚</p><p>å¦‚æœè¦å‘å¸ƒç§æœ‰åŒ…ï¼Œä½¿ç”¨ <code>npm publish --registry=http://localhost:4873/</code> å°±å¯ä»¥äº†ï¼Œå‘å¸ƒå¥½äº†ä½ å°±å¯ä»¥åœ¨ web ç«¯ç•Œé¢ä¸Šçœ‹åˆ°å®ƒäº†ã€‚</p><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>æ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·ï¼š<code>npm adduser --registry http://localhost:4873/</code>ï¼Œæ¥ä¸‹æ¥è¾“å…¥ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥äº†ï¼Œç”¨æˆ·å¯ä»¥ç”¨æ¥åšæƒé™ç®¡ç†</p><p>é…ç½®æ–‡ä»¶è¯¦è§£</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ›´å¤šé…ç½®ç¤ºä¾‹ï¼š</span></div><div class="line"><span class="comment"># https://github.com/rlidwka/sinopia/tree/master/conf</span></div><div class="line"><span class="comment">#</span></div><div class="line"></div><div class="line"><span class="comment"># å­˜å‚¨ npm åŒ…çš„ä½ç½®</span></div><div class="line"><span class="attr">storage:</span> ./storage</div><div class="line"></div><div class="line"><span class="comment"># è®¤è¯</span></div><div class="line"><span class="comment"># max_users è®¾ç½®æˆ -1 æ‹’ç»ä½¿ç”¨ npm adduser æ·»åŠ ç”¨æˆ·ï¼Œä¸è¿‡åœ¨å…¬å¸å†…éƒ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ htpasswd è¿™ä¸ªæ–‡ä»¶æ¥åˆå§‹åŒ–ç”¨æˆ·</span></div><div class="line"><span class="comment"># å…·ä½“çš„ä¼šåœ¨ä¸‹é¢è¯´åˆ°</span></div><div class="line"><span class="attr">auth:</span></div><div class="line"><span class="attr">  htpasswd:</span></div><div class="line"><span class="attr">    file:</span> ./htpasswd</div><div class="line"><span class="attr">    max_users:</span> <span class="bullet">-1</span></div><div class="line"></div><div class="line"><span class="comment"># é…ç½®ä¸Šæ¸¸çš„ npm æœåŠ¡å™¨ï¼Œä¸»è¦æ˜¯ç”¨äºå½“ä»“åº“ä¸­ä¸å­˜åœ¨è¯·æ±‚çš„é‚£ä¸ªåŒ…æ—¶å»ä¸Šæ¸¸æœåŠ¡å™¨æ‹‰å–</span></div><div class="line"><span class="attr">uplinks:</span></div><div class="line"><span class="attr">  npmjs:</span></div><div class="line"><span class="attr">    url:</span> https://registry.npmjs.org/</div><div class="line"></div><div class="line"><span class="attr">packages:</span></div><div class="line">  <span class="comment"># æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åŒ…æ¥æ§åˆ¶ç›¸åº”çš„æƒé™</span></div><div class="line">  <span class="comment"># access è¡¨ç¤ºå“ªä¸€ç±»ç”¨æˆ·å¯ä»¥å¯¹åŒ¹é…çš„é¡¹ç›®è¿›è¡Œå®‰è£…(install)</span></div><div class="line">  <span class="comment"># publish è¡¨ç¤ºå“ªä¸€ç±»ç”¨æˆ·å¯ä»¥å¯¹åŒ¹é…çš„é¡¹ç›®è¿›è¡Œå‘å¸ƒ(publish)</span></div><div class="line">  <span class="comment"># proxy å½“æœ¬åœ°æ²¡æœ‰åŒ…çš„æ—¶å€™ä½¿ç”¨çš„ä»£ç†ï¼Œå¯¹åº”ä¸Šé¢çš„ uplinks</span></div><div class="line">  <span class="comment"># ä¸€å…±æœ‰ä»¥ä¸‹å‡ ç§æƒé™ï¼š</span></div><div class="line">  <span class="comment"># $all æ‰€æœ‰äººéƒ½å¯ä»¥</span></div><div class="line">  <span class="comment"># $anonymous åªæœ‰åŒ¿åè€…å¯ä»¥è¿›è¡Œå¯¹åº”æ“ä½œï¼ˆé€šå¸¸æ— ç”¨ï¼‰</span></div><div class="line">  <span class="comment"># $authenticated åªæœ‰ç»è¿‡è®¤è¯çš„å¯ä»¥è¿›è¡Œæ“ä½œï¼ˆç§æœ‰çš„ä¸€å®šè¦ç”¨è¿™ä¸ªï¼‰</span></div><div class="line"></div><div class="line">  <span class="string">'@*/*'</span>:</div><div class="line"><span class="attr">    access:</span> $all</div><div class="line"><span class="attr">    publish:</span> $authenticated</div><div class="line"></div><div class="line">  <span class="string">'*'</span>:</div><div class="line"><span class="attr">    access:</span> $all</div><div class="line"><span class="attr">    publish:</span> $authenticated</div><div class="line"><span class="attr">    proxy:</span> npmjs</div><div class="line"></div><div class="line"><span class="comment"># æ—¥å¿—çš„é…ç½®</span></div><div class="line"><span class="attr">logs:</span></div><div class="line"><span class="bullet">  -</span> &#123;type: stdout, format: pretty, level: http&#125;</div><div class="line">  <span class="comment">#- &#123;type: file, path: sinopia.log, level: info&#125;</span></div></pre></td></tr></table></figure><p>å…³äº auth çš„é…ç½®ï¼Œä¸ºäº†è¾¾åˆ°ç§æœ‰çš„ç›®çš„ï¼Œæˆ‘ä»¬æŠŠ max_users è®¾ç½®æˆ -1 æ¥æ‹’ç»æ·»åŠ ç”¨æˆ·ï¼Œä¸è¿‡åœ¨å…¬å¸å†…éƒ¨æˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨ htpasswd è¿™ä¸ªæ–‡ä»¶æ¥åˆå§‹åŒ–ç”¨æˆ·ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼Œæ¯ä¸€è¡Œä¸€ä¸ªç”¨æˆ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">username:&#123;SHA&#125;ç»è¿‡åŠ å¯†çš„åå¯†ç å€¼:autocreated 2016-07-25T08:55:48.859Zï¼ˆåˆ›å»ºæ—¶é—´ï¼‰</div></pre></td></tr></table></figure><p>åŠ å¯†ç®—æ³•ï¼šå°†å¯†ç ä½¿ç”¨ SHA1 ç®—æ³•å“ˆå¸Œä¹‹åå†ä½¿ç”¨ base64 è½¬æ¢å†è¾“å‡ºå°±å¯ä»¥äº†ã€‚<br>ä½¿ç”¨ python å®ç°çš„å¯†ç åŠ å¯†ç¤ºä¾‹ï¼Œä¸‹é¢æ˜¯å¯†ç  <code>admin</code> åŠ å¯†åçš„å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>base64.b64encode(hashlib.sha1(<span class="string">'admin'</span>).digest())</div><div class="line"><span class="string">'0DPiKuNIrrVmD8IUCuw1hQxNqZc='</span></div></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåé‡å¯ä¸€ä¸‹ sinopia æœåŠ¡å™¨å°±å¯ä»¥äº†ã€‚</p><p>æ›´å¤šé…ç½®å¯ä»¥å» <a href="https://github.com/rlidwka/sinopia/blob/master/conf/full.yaml" target="_blank" rel="external">https://github.com/rlidwka/sinopia/blob/master/conf/full.yaml</a> çœ‹çœ‹ã€‚</p><h3 id="ä½¿ç”¨-Docker-æ¥æ­å»º-sinopia"><a href="#ä½¿ç”¨-Docker-æ¥æ­å»º-sinopia" class="headerlink" title="ä½¿ç”¨ Docker æ¥æ­å»º sinopia"></a>ä½¿ç”¨ Docker æ¥æ­å»º sinopia</h3><p>sinopia æä¾›äº†ä¸€ä¸ª Docker çš„é•œåƒ <a href="https://registry.hub.docker.com/u/keyvanfatehi/sinopia/" target="_blank" rel="external">https://registry.hub.docker.com/u/keyvanfatehi/sinopia/</a></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªé•œåƒæ¥å¿«é€Ÿæ­å»ºä¸€ä¸ª sinopia</p><h4 id="å¿«é€Ÿå¼€å§‹-1"><a href="#å¿«é€Ÿå¼€å§‹-1" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h4><ul><li>å®‰è£…é•œåƒ <code>docker pull keyvanfatehi/sinopia:latest</code></li><li>åˆ›å»ºå®¹å™¨ <code>docker run --name sinopia -d -p 4873:4873 keyvanfatehi/sinopia:latest</code></li><li>ç°åœ¨å°±ç®—æ­å»ºå®Œæˆäº†ï¼Œä½ å¯ä»¥è®¿é—® <code>http://&lt;docker_host&gt;:4873/</code> æ¥æŸ¥çœ‹æ•ˆæœäº†</li></ul><p>æ›´è¯¦ç»†çš„æ–‡æ¡£å¯ä»¥å» <a href="https://github.com/kfatehi/docker-sinopia" target="_blank" rel="external">https://github.com/kfatehi/docker-sinopia</a> çœ‹çœ‹</p><h4 id="ä½¿ç”¨-docker-compose"><a href="#ä½¿ç”¨-docker-compose" class="headerlink" title="ä½¿ç”¨ docker-compose"></a>ä½¿ç”¨ docker-compose</h4><p>é€šè¿‡é…ç½® docker-compose æˆ‘ä»¬å¯ä»¥æ›´ä¼˜é›…åœ°æ­å»º sinopiaï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="attr">version:</span> <span class="string">'2'</span></div><div class="line"><span class="attr">services:</span></div><div class="line"><span class="attr">  sinopia:</span></div><div class="line"><span class="attr">    image:</span> keyvanfatehi/sinopia</div><div class="line"><span class="attr">    ports:</span></div><div class="line"><span class="bullet">      -</span> <span class="string">"4873:4873"</span></div><div class="line">    <span class="comment"># å¯åŠ¨çš„æ—¶å€™æ‰§è¡Œçš„å‘½ä»¤ï¼ˆå¯åŠ¨ sinopiaï¼‰</span></div><div class="line"><span class="attr">    command:</span> /opt/sinopia/start.sh</div><div class="line"></div><div class="line">    <span class="comment"># æˆ‘ä»¬åœ¨å®¿ä¸»æœºå’Œ docker é‡Œé¢åŒæ­¥äº† config.yaml å’Œ htpasswd è¿™ä¸¤ä¸ªæ–‡ä»¶</span></div><div class="line">    <span class="comment"># å¹¶ä¸”æŠŠ docker é‡Œé¢å­˜å‚¨çš„ npm åŒ…ä¹ŸåŒæ­¥åˆ°å®¿ä¸»æœºä¸Šé¢</span></div><div class="line"><span class="attr">    volumes:</span></div><div class="line"><span class="bullet">      -</span> ./config.yaml:/opt/sinopia/config.yaml</div><div class="line"><span class="bullet">      -</span> ./htpasswd:/opt/sinopia/htpasswd</div><div class="line"><span class="bullet">      -</span> /data/storage/:/opt/sinopia/storage/</div></pre></td></tr></table></figure><p>å†™å¥½äº† docker-compose.yml åå°±å¯ä»¥é€šè¿‡ <code>docker-compose up</code> æ¥å¯åŠ¨ sinopia æœåŠ¡ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä¸ºä»€ä¹ˆæ­å»ºç§æœ‰çš„-npm-ä»“åº“&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆæ­å»ºç§æœ‰çš„-npm-ä»“åº“&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆæ­å»ºç§æœ‰çš„ npm ä»“åº“&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆæ­å»ºç§æœ‰çš„ npm ä»“åº“&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å‘å¸ƒå’Œç®¡ç†å…¬å¸å†…éƒ¨çš„ç§æœ‰çš„ã€æš‚ä¸å…¬å¼€çš„ npm åŒ…&lt;/li&gt;
&lt;li&gt;åŠ é€Ÿ npm åŒ…çš„ä¸‹è½½ï¼Œnpm å®˜æ–¹ä»“åº“åœ¨å›½å†…å¤ªæ…¢äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;äº†è§£-sinopia&quot;&gt;&lt;a href=&quot;#äº†è§£-sinopia&quot; class=&quot;headerlink&quot; title=&quot;äº†è§£ sinopia&quot;&gt;&lt;/a&gt;äº†è§£ sinopia&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/rlidwka/sinopia&quot;&gt;https://github.com/rlidwka/sinopia&lt;/a&gt;&lt;br&gt;sinopia æ˜¯ä¸€ä¸ªç”¨äºæ­å»ºç§æœ‰çš„ npm ä»“åº“çš„è½¯ä»¶ï¼Œæˆ‘ä»¬å°†å€ŸåŠ©å®ƒæ¥æ­å»º npm ç§æœ‰ä»“åº“ã€‚&lt;/p&gt;
&lt;p&gt;sinopia å®‰è£…å’Œä½¿ç”¨éƒ½æå…¶ç®€å•ï¼Œå®ƒè¿˜æœ‰ä»¥ä¸‹çš„ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒå®‰è£… npm åŒ…ï¼ˆnpm install, npm upgrade, etc.ï¼‰&lt;/li&gt;
&lt;li&gt;æ”¯æŒå‘å¸ƒ npm åŒ…ï¼ˆnpm publishï¼‰&lt;/li&gt;
&lt;li&gt;æ”¯æŒ npm unpublish&lt;/li&gt;
&lt;li&gt;å³å°†æ”¯æŒ npm tag&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒ npm deprecate&lt;/li&gt;
&lt;li&gt;æ”¯æŒ npm adduser&lt;/li&gt;
&lt;li&gt;æ”¯æŒåœ¨æµè§ˆå™¨ç«¯æœç´¢ï¼Œä¸æ”¯æŒå‘½ä»¤è¡Œæœç´¢&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒ npm star, npm unstarï¼Œå› ä¸ºè¿™å¯¹ç§æœ‰ npm åŒ…æ²¡æœ‰æ„ä¹‰&lt;/li&gt;
&lt;li&gt;sinopia æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“æ¥å­˜å‚¨ï¼Œå®ƒä½¿ç”¨æœ¬åœ°çš„æ–‡ä»¶ç³»ç»Ÿæ¥å­˜å‚¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ä½¿ç”¨-sinopia&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-sinopia&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ sinopia&quot;&gt;&lt;/a&gt;ä½¿ç”¨ sinopia&lt;/h2&gt;&lt;h3 id=&quot;å¿«é€Ÿå¼€å§‹&quot;&gt;&lt;a href=&quot;#å¿«é€Ÿå¼€å§‹&quot; class=&quot;headerlink&quot; title=&quot;å¿«é€Ÿå¼€å§‹&quot;&gt;&lt;/a&gt;å¿«é€Ÿå¼€å§‹&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# å®‰è£…å’Œä½¿ç”¨&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ npm install -g sinopia&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sinopia&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# npm é…ç½®ï¼Œä½¿ç”¨ sinopia æ­å»ºçš„ npm ä»“åº“æ¥ä¸‹è½½ npm åŒ…&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ npm set registry http://localhost:4873/&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;sinopia ç•Œé¢&lt;br&gt;&lt;img src=&quot;http://img.l.jifangcheng.com/sinopia-1.png&quot; alt=&quot;sinopia&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Hexo å†™åšå®¢</title>
    <link href="http://blog.whatslife.cn/posts/use-Hexo/"/>
    <id>http://blog.whatslife.cn/posts/use-Hexo/</id>
    <published>2016-07-04T06:05:08.000Z</published>
    <updated>2018-03-17T11:20:24.337Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆç”¨Hexo"><a href="#ä¸ºä»€ä¹ˆç”¨Hexo" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨Hexo"></a>ä¸ºä»€ä¹ˆç”¨Hexo</h2><ol><li>é™æ€åšå®¢ï¼Œéƒ¨ç½²åœ¨ github ä¸Šï¼Œä¸éœ€è¦æ•°æ®åº“ï¼Œéƒ¨ç½²å’Œè¿ç§»æ–¹ä¾¿</li><li>ä½¿ç”¨ github ç®¡ç†ä»£ç ï¼Œæˆ‘ä»¬éƒ½ç”¨ githubï¼Œåä½œæ–¹ä¾¿</li><li>åšå®¢ä½¿ç”¨ markdown æ ¼å¼å­˜å‚¨ï¼Œæ–¹ä¾¿ç¼–è¾‘</li><li>æœ‰è®¸è®¸å¤šå¤šçš„æ’ä»¶ï¼Œæ‰©å±•æ–¹ä¾¿</li></ol><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><ol><li>å®‰è£… node å’Œ Hexo</li><li>å®‰è£… Burnish åšå®¢</li><li>å†™åšå®¢</li><li>å‘å¸ƒ</li><li>ä¿å­˜æºç </li></ol><a id="more"></a><h3 id="å®‰è£…-node-å’Œ-Hexo"><a href="#å®‰è£…-node-å’Œ-Hexo" class="headerlink" title="å®‰è£… node å’Œ Hexo"></a>å®‰è£… node å’Œ Hexo</h3><p><a href="https://hexo.io/docs/" target="_blank" rel="external">Hexo å®‰è£…æ•™ç¨‹</a><br>æ¨èä½¿ç”¨ nvm æ¥å®‰è£… <a href="https://github.com/creationix/nvm" target="_blank" rel="external">https://github.com/creationix/nvm</a></p><h3 id="å®‰è£…åšå®¢"><a href="#å®‰è£…åšå®¢" class="headerlink" title="å®‰è£…åšå®¢"></a>å®‰è£…åšå®¢</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># clone ä»£ç </span></div><div class="line">git clone https:<span class="comment">//github.com/TechForever/TechForever.github.io.git blog</span></div><div class="line"></div><div class="line"><span class="meta"># æ›´æ–° git submodule ç®¡ç†çš„ä¸»é¢˜</span></div><div class="line">git submodule update --init --recursive</div><div class="line"></div><div class="line"><span class="meta"># åœ¨å…¨å±€å®‰è£…hexoå‘½ä»¤è¡Œå·¥å…·</span></div><div class="line">npm install hexo -g</div><div class="line"></div><div class="line"><span class="meta"># å®‰è£…ä¾èµ–</span></div><div class="line">cd blog &amp;&amp; git checkout source &amp;&amp; npm install</div><div class="line"></div><div class="line"><span class="meta"># ç”Ÿæˆåšå®¢</span></div><div class="line">hexo generate --watch</div><div class="line"></div><div class="line"><span class="meta"># é¢„è§ˆ</span></div><div class="line">hexo server</div></pre></td></tr></table></figure><h3 id="å†™åšå®¢"><a href="#å†™åšå®¢" class="headerlink" title="å†™åšå®¢"></a>å†™åšå®¢</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># ç”Ÿæˆæ–°çš„ markdown æ–‡ä»¶ï¼Œåœ¨ source/_post/ æ–‡ä»¶å¤¹ä¸‹</span></div><div class="line">hexo <span class="keyword">new</span> <span class="string">"your title"</span></div><div class="line"></div><div class="line"><span class="meta"># å†™åšå®¢ï¼Œmarkdown è¯­æ³•</span></div><div class="line">vim source/_post/your title.md</div><div class="line"></div><div class="line"><span class="meta"># ç”Ÿæˆåšå®¢</span></div><div class="line">hexo generate --watch</div><div class="line"></div><div class="line"><span class="meta"># é¢„è§ˆ</span></div><div class="line">hexo server</div><div class="line"></div><div class="line"><span class="meta"># å‘å¸ƒ</span></div><div class="line">hexo deploy</div><div class="line"></div><div class="line"><span class="meta"># å°†ä»£ç  push åˆ° source åˆ†æ”¯</span></div><div class="line">git push origin source:source</div></pre></td></tr></table></figure><h3 id="master-å’Œ-source-åˆ†æ”¯çš„åŒºåˆ«"><a href="#master-å’Œ-source-åˆ†æ”¯çš„åŒºåˆ«" class="headerlink" title="master å’Œ source åˆ†æ”¯çš„åŒºåˆ«"></a>master å’Œ source åˆ†æ”¯çš„åŒºåˆ«</h3><p>master åˆ†æ”¯æ˜¯ github pages å±•ç¤ºçš„é™æ€èµ„æºæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ç”± source åˆ†æ”¯çš„æºä»£ç ç”Ÿæˆçš„<br>æœ‰æ›´æ–°éœ€è¦éšæ—¶ push åˆ° github çš„ source åˆ†æ”¯</p><h3 id="ä½¿ç”¨-git-submodule-æ¥ç®¡ç†ä¸»é¢˜"><a href="#ä½¿ç”¨-git-submodule-æ¥ç®¡ç†ä¸»é¢˜" class="headerlink" title="ä½¿ç”¨ git submodule æ¥ç®¡ç†ä¸»é¢˜"></a>ä½¿ç”¨ git submodule æ¥ç®¡ç†ä¸»é¢˜</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># æ·»åŠ  submoduleï¼Œsubmodule å·²ç» fork åˆ°äº† Tech Forever å›¢é˜Ÿ</div><div class="line">git submodule <span class="built_in">add</span> http<span class="variable">s:</span>//github.<span class="keyword">com</span>/TechForever/hexo-theme-<span class="keyword">next</span>.git</div><div class="line"></div><div class="line"># æ›´æ–°ä¸»é¢˜é…ç½®</div><div class="line"><span class="keyword">cd</span> themes/<span class="keyword">next</span></div><div class="line"><span class="keyword">vim</span> _config.yml</div><div class="line">git commit -<span class="keyword">a</span></div><div class="line">git push</div><div class="line"></div><div class="line"># å…¶ä»–å‘½ä»¤å‚è€ƒ http<span class="variable">s:</span>//git-scm.<span class="keyword">com</span>/book/zh/v2/Git-å·¥å…·-å­æ¨¡å—</div></pre></td></tr></table></figure><h2 id="Trouble-Shotting"><a href="#Trouble-Shotting" class="headerlink" title="Trouble Shotting"></a>Trouble Shotting</h2><ul><li><code>hexo generate</code> æ—¶æŠ¥ <code>hightlight.js</code> å¼‚å¸¸<ul><li>å°† <code>_config.yml</code> ä¸­çš„ auto_detect ç½®ä¸º <code>false</code> å†æ‰§è¡Œ <code>hexo generate</code>ã€‚ æˆåŠŸåå†å°†å…¶ç½®å› <code>true</code>ï¼ˆå¼€å¯ä»£ç é«˜äº®åŠŸèƒ½ï¼‰ã€‚</li></ul></li></ul><ul><li><p>æ¯æ¬¡æ›´æ–° source æ—¶åŠ¡å¿…å°† submodule ä¹ŸåŒæ—¶æ›´æ–°, å¦åˆ™æœ‰å¯èƒ½å¯¼è‡´ submodule çš„ç‰ˆæœ¬è¢«è¦†ç›–</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">git checkout source</div><div class="line">git pull <span class="comment">--rebase origin source</span></div><div class="line">git submodule <span class="keyword">update</span> <span class="comment">--recursive</span></div></pre></td></tr></table></figure></li><li><p>å¦‚ä½•åŒæ—¶ push submodule</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git</span> push --recurse-submodules=<span class="literal">on</span>-demand</div></pre></td></tr></table></figure></li></ul><h2 id="æ„Ÿè°¢"><a href="#æ„Ÿè°¢" class="headerlink" title="æ„Ÿè°¢"></a>æ„Ÿè°¢</h2><p><a href="https://hexo.io" target="_blank" rel="external">hexo</a><br><a href="https://github.com/tufu9441/maupassant-hexo" target="_blank" rel="external">ä¸»é¢˜ maupassant</a><br><a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">ä¸»é¢˜ Next</a></p><h2 id="PS"><a href="#PS" class="headerlink" title="PS"></a>PS</h2><p>æ–‡ç« æ’ç‰ˆå‚ç…§ <a href="https://github.com/sparanoid/chinese-copywriting-guidelines" target="_blank" rel="external">ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ—</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä¸ºä»€ä¹ˆç”¨Hexo&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆç”¨Hexo&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆç”¨Hexo&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆç”¨Hexo&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;é™æ€åšå®¢ï¼Œéƒ¨ç½²åœ¨ github ä¸Šï¼Œä¸éœ€è¦æ•°æ®åº“ï¼Œéƒ¨ç½²å’Œè¿ç§»æ–¹ä¾¿&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ github ç®¡ç†ä»£ç ï¼Œæˆ‘ä»¬éƒ½ç”¨ githubï¼Œåä½œæ–¹ä¾¿&lt;/li&gt;
&lt;li&gt;åšå®¢ä½¿ç”¨ markdown æ ¼å¼å­˜å‚¨ï¼Œæ–¹ä¾¿ç¼–è¾‘&lt;/li&gt;
&lt;li&gt;æœ‰è®¸è®¸å¤šå¤šçš„æ’ä»¶ï¼Œæ‰©å±•æ–¹ä¾¿&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨&quot;&gt;&lt;/a&gt;ä½¿ç”¨&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;å®‰è£… node å’Œ Hexo&lt;/li&gt;
&lt;li&gt;å®‰è£… Burnish åšå®¢&lt;/li&gt;
&lt;li&gt;å†™åšå®¢&lt;/li&gt;
&lt;li&gt;å‘å¸ƒ&lt;/li&gt;
&lt;li&gt;ä¿å­˜æºç &lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="other" scheme="http://blog.whatslife.cn/categories/other/"/>
    
    
      <category term="other" scheme="http://blog.whatslife.cn/tags/other/"/>
    
  </entry>
  
</feed>
